<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ObitUVCalPolarization.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a></div>
<h1>ObitUVCalPolarization.c File Reference</h1><a class="el" href="structObitUVCal.html">ObitUVCal</a> utilities for applying polarization calibration to uv data. <a href="#_details">More...</a>
<p>
<code>#include "<a class="el" href="ObitUVCalPolarization_8h-source.html">ObitUVCalPolarization.h</a>"</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;math.h&gt;</code><br>
<code>#include &lt;glib.h&gt;</code><br>
<code>#include "<a class="el" href="Obit_8h-source.html">Obit.h</a>"</code><br>
<code>#include "<a class="el" href="ObitErr_8h-source.html">ObitErr.h</a>"</code><br>
<code>#include "<a class="el" href="ObitUVDesc_8h-source.html">ObitUVDesc.h</a>"</code><br>
<code>#include "<a class="el" href="ObitUVSel_8h-source.html">ObitUVSel.h</a>"</code><br>
<code>#include "<a class="el" href="ObitUVCal_8h-source.html">ObitUVCal.h</a>"</code><br>
<code>#include "<a class="el" href="ObitSourceList_8h-source.html">ObitSourceList.h</a>"</code><br>
<code>#include "<a class="el" href="ObitAntennaList_8h-source.html">ObitAntennaList.h</a>"</code><br>
<code>#include "<a class="el" href="ObitPrecess_8h-source.html">ObitPrecess.h</a>"</code><br>
<code>#include "<a class="el" href="ObitTableANUtil_8h-source.html">ObitTableANUtil.h</a>"</code><br>
<code>#include "<a class="el" href="ObitTableSUUtil_8h-source.html">ObitTableSUUtil.h</a>"</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structObitUVCalPolarizationS.html">ObitUVCalPolarizationS</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Polarization calibration structure.  <a href="structObitUVCalPolarizationS.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitUVCalPolarization_8c.html#a7">ObitUVCalPolarizationInit</a> (<a class="el" href="structObitUVCal.html">ObitUVCal</a> *in, <a class="el" href="structObitUVSel.html">ObitUVSel</a> *sel, <a class="el" href="structObitUVDesc.html">ObitUVDesc</a> *desc, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Init baseline dependent calibration.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitUVCalPolarization_8c.html#a8">ObitUVCalPolarization</a> (<a class="el" href="structObitUVCal.html">ObitUVCal</a> *in, float time, <a class="el" href="ObitTypes_8h.html#a5">olong</a> ant1, <a class="el" href="ObitTypes_8h.html#a5">olong</a> ant2, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> *RP, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> *visIn, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Apply polarization calibration.  <a href="#a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitUVCalPolarization_8c.html#a9">ObitUVCalPolarizationShutdown</a> (<a class="el" href="structObitUVCal.html">ObitUVCal</a> *in, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Shutdown polarization calibration.  <a href="#a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structObitUVCalPolarizationS.html">ObitUVCalPolarizationS</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitUVCalPolarization_8c.html#a10">ObitUVCalPolarizationSUnref</a> (<a class="el" href="structObitUVCalPolarizationS.html">ObitUVCalPolarizationS</a> *in)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Destroy polarization calibration structure .  <a href="#a10"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="structObitUVCal.html">ObitUVCal</a> utilities for applying polarization calibration to uv data. 
<p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a8" doxytag="ObitUVCalPolarization.c::ObitUVCalPolarization"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitUVCalPolarization           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitUVCal.html">ObitUVCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>float&nbsp;</td>
          <td class="mdname" nowrap> <em>time</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ant1</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>ant2</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>RP</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>visIn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Apply polarization calibration. 
<p>
For OBIT_UVPoln_VLBI and OBIT_UVPoln_ELORI, the parallactic angle correction is assumed to have already been applied. Polarization calibration structure, values in order: By IF (EIF-BIF+1) A 4x4 complex matrix to be multiplied by the observed polarization vector (RR,LL,RL,LR or XX,YY,XY,YX) to produce the corrected data. Adapted from the AIPSish DATPOL.FOR<p>
Notes on parallactic angle: For VLA style calibration (OBIT_UVPoln_Approx), no correction is made to the data early on to remove the parallactic angle. In this case, the instrumental polarization is constant, i.e.correction terms are not a function of parallactic angle whereas the corrected data must have RL,LR rotated by the parallactic angle. The VLBI stype calibration (OBIT_UVPoln_ELORI, OBIT_UVPoln_VLBI) require that the data be corrected for the effects of parallactic angle prior to any self calibration. In this case, the polarization corrections rotate with parallactic angle but the corrected data need no further rotation. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>Polarization Calibration Object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>time</em>&nbsp;</td><td>Time of datum </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ant1</em>&nbsp;</td><td>first antenna number of baseline </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ant2</em>&nbsp;</td><td>second antanna of baseline. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RP</em>&nbsp;</td><td>Random parameters array. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>visIn</em>&nbsp;</td><td>1 visibility as an array of floats </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>ObitError stack. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="ObitUVCalPolarization.c::ObitUVCalPolarizationInit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitUVCalPolarizationInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitUVCal.html">ObitUVCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitUVSel.html">ObitUVSel</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>sel</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitUVDesc.html">ObitUVDesc</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Init baseline dependent calibration. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>Polarization Object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sel</em>&nbsp;</td><td>Data selector. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc</em>&nbsp;</td><td>Data descriptor. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>ObitError stack. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="ObitUVCalPolarization.c::ObitUVCalPolarizationShutdown"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitUVCalPolarizationShutdown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitUVCal.html">ObitUVCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Shutdown polarization calibration. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>Polarization Object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>ObitError stack. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="ObitUVCalPolarization.c::ObitUVCalPolarizationSUnref"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structObitUVCalPolarizationS.html">ObitUVCalPolarizationS</a>* ObitUVCalPolarizationSUnref           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitUVCalPolarizationS.html">ObitUVCalPolarizationS</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>in</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Destroy polarization calibration structure . 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>Polarization Object. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>NULL </dd></dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jul 20 08:52:41 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
