<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ObitIonCal.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a></div>
<h1>ObitIonCal.c File Reference</h1><a class="el" href="structObitIonCal.html">ObitIonCal</a> class function definitions. <a href="#_details">More...</a>
<p>
<code>#include "<a class="el" href="ObitIonCal_8h-source.html">ObitIonCal.h</a>"</code><br>
<code>#include "<a class="el" href="ObitTableVZ_8h-source.html">ObitTableVZ.h</a>"</code><br>
<code>#include "<a class="el" href="ObitSkyGeom_8h-source.html">ObitSkyGeom.h</a>"</code><br>
<code>#include "<a class="el" href="ObitPBUtil_8h-source.html">ObitPBUtil.h</a>"</code><br>
<code>#include "<a class="el" href="ObitZernike_8h-source.html">ObitZernike.h</a>"</code><br>
<code>#include "<a class="el" href="ObitUVUtil_8h-source.html">ObitUVUtil.h</a>"</code><br>
<code>#include "<a class="el" href="ObitDConCleanVis_8h-source.html">ObitDConCleanVis.h</a>"</code><br>
<code>#include "<a class="el" href="ObitTableNX_8h-source.html">ObitTableNX.h</a>"</code><br>
<code>#include "<a class="el" href="ObitIoN2SolNTable_8h-source.html">ObitIoN2SolNTable.h</a>"</code><br>
<code>#include "<a class="el" href="ObitTableNI_8h-source.html">ObitTableNI.h</a>"</code><br>
<code>#include "<a class="el" href="ObitMem_8h-source.html">ObitMem.h</a>"</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCalListElem.html">CalListElem</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calibrator list element structure.  <a href="structCalListElem.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCalList.html">CalList</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CalList structure.  <a href="structCalList.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a0">MAXEPOCH</a>&nbsp;&nbsp;&nbsp;1024</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a14">ObitIonCalInit</a> (gpointer in)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private: Initialize newly instantiated object.  <a href="#a14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a15">ObitIonCalClear</a> (gpointer in)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private: Deallocate members.  <a href="#a15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a40">newObitIonCal</a> (gchar *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Default Constructor.  <a href="#a40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">gconstpointer&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a41">ObitIonCalGetClass</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: ClassInfo pointer.  <a href="#a41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a42">ObitIonCalCopy</a> (<a class="el" href="structObitIonCal.html">ObitIonCal</a> *in, <a class="el" href="structObitIonCal.html">ObitIonCal</a> *out, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Copy (deep) constructor.  <a href="#a42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a43">ObitIonCalClone</a> (<a class="el" href="structObitIonCal.html">ObitIonCal</a> *in, <a class="el" href="structObitIonCal.html">ObitIonCal</a> *out, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Copy structure.  <a href="#a43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a44">ObitIonCalCreate</a> (gchar *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Create/initialize <a class="el" href="structObitIonCal.html">ObitIonCal</a> structures.  <a href="#a44"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a45">ObitIonCalSetData</a> (<a class="el" href="structObitIonCal.html">ObitIonCal</a> *in, <a class="el" href="structObitUV.html">ObitUV</a> *inUV)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Attach uv data.  <a href="#a45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a46">ObitIonCalFindImage</a> (<a class="el" href="structObitIonCal.html">ObitIonCal</a> *in, <a class="el" href="structObitImage.html">ObitImage</a> *image, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Lookup calibrators for image.  <a href="#a46"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a47">ObitIonCalPosMul</a> (<a class="el" href="structObitIonCal.html">ObitIonCal</a> *in, <a class="el" href="structObitImage.html">ObitImage</a> *image, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Fit multiple calibrators in same image.  <a href="#a47"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a48">ObitIonCalFit1</a> (<a class="el" href="structObitIonCal.html">ObitIonCal</a> *in, <a class="el" href="ObitTypes_8h.html#a5">olong</a> epoch, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> *coef, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Fit single epoch Zernike model.  <a href="#a48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a49">ObitIonCaldoCal</a> (<a class="el" href="structObitIonCal.html">ObitIonCal</a> *in, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Determine Ionospheric calibration for a UV data.  <a href="#a49"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a50">ObitIonCalPosMosaic</a> (<a class="el" href="structObitIonCal.html">ObitIonCal</a> *in, <a class="el" href="structObitImageMosaic.html">ObitImageMosaic</a> *mosaic, <a class="el" href="ObitTypes_8h.html#a5">olong</a> epoch, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Fit position offsets to sources expected at centers of a mosaic.  <a href="#a50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitIonCal_8c.html#a51">ObitIonCalClassInit</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Public: Class initializer.  <a href="#a51"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="structObitIonCal.html">ObitIonCal</a> class function definitions. 
<p>
This class is derived from the <a class="el" href="structObit.html">Obit</a> base class.<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="ObitIonCal.c::MAXEPOCH"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MAXEPOCH&nbsp;&nbsp;&nbsp;1024          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a40" doxytag="ObitIonCal.c::newObitIonCal"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a>* newObitIonCal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">gchar *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Default Constructor. 
<p>
Initializes class if needed on first call. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>An optional name for the object. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the new object. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a51" doxytag="ObitIonCal.c::ObitIonCalClassInit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCalClassInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Class initializer. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="ObitIonCal.c::ObitIonCalClear"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCalClear           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">gpointer&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>inn</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Private: Deallocate members. 
<p>
Does (recursive) deallocation of parent class members. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inn</em>&nbsp;</td><td>Pointer to the object to deallocate. Actually it should be an ObitIonCal* cast to an Obit*. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="ObitIonCal.c::ObitIonCalClone"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCalClone           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Copy structure. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>The object to copy </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out</em>&nbsp;</td><td>An existing object pointer for output, must be defined. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td><a class="el" href="structObit.html">Obit</a> error stack object. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="ObitIonCal.c::ObitIonCalCopy"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a>* ObitIonCalCopy           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Copy (deep) constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>The object to copy </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out</em>&nbsp;</td><td>An existing object pointer for output or NULL if none exists. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td><a class="el" href="structObit.html">Obit</a> error stack object. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to the new object. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="ObitIonCal.c::ObitIonCalCreate"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a>* ObitIonCalCreate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">gchar *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Create/initialize <a class="el" href="structObitIonCal.html">ObitIonCal</a> structures. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>An optional name for the object. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the new object. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a49" doxytag="ObitIonCal.c::ObitIonCaldoCal"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCaldoCal           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Determine Ionospheric calibration for a UV data. 
<p>
Loops over time slices, imaging and deconvolving selected fields. Then determines position offsets and fits an ionospheric model. Results are stored in an 'NI' table attached to inUV. Current maximum 1024 epochs. Routine translated from the AIPSish IONCAL.FOR/IONCAL <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>IonCal object, must have myData UV data attached. If myData is a multisource file, then selection (1 source) , calibration and editing controls must be set on the info member. Control parameters on the myData info member. <ul>
<li>Catalog OBIT_char (?,1,1) AIPSVZ format FITS catalog for defining outliers, 'Default' or blank = use default catalog. </li>
<li>catDisk OBIT_int (1,1,1) FITS disk for catalog [def 1] </li>
<li>OutlierDist OBIT_float (1,1,1) How far from pointing to add calibrators </li>
<li>OutlierFlux OBIT_float (1,1,1) Minimum estimated flux density include outlier fields from Catalog. [default 0.1 Jy ] </li>
<li>OutlierSI OBIT_float (1,1,1) Spectral index to use to convert catalog flux density to observed frequency. [default = -0.75] </li>
<li>Niter OBIT_int (1,1,1) Max. number of components to clean </li>
<li>minFlux OBIT_float (1,1,1) Minimum flux density to CLEAN </li>
<li>autoWindow OBIT_boolean (1,1,1)True if autoWindow feature wanted. </li>
<li>dispURL" OBIT_string (1,1,1) URL of display server</li>
</ul>
Control parameters on the in-&gt;info member. <ul>
<li>nZern OBIT_int (1,1,1) Zernike polynomial order requested [def 5] </li>
<li>MaxQual OBIT_int (1,1,1) Max. cal. quality code [def 1] </li>
<li>prtLv OBIT_int (1,1,1) Print level &gt;=2 =&gt; give list [def 0] </li>
<li>MaxRMS OBIT_float (1,1,1) Maximum allowable RMS in arcsec. [def 20] </li>
<li>MinRat OBIT_float (1,1,1) Minimum acceptable ratio to average flux [def 0.1] </li>
<li>FitDist OBIT_int (1,1,1) Dist, from expected location to search asec [10 pixels] </li>
<li>MinPeak OBIT_float (1,1,1) Min. acceptable image peak (Jy) [1.0] If not given OutlierFlux is used </li>
<li>MaxDist OBIT_float (1,1,1) Max. distance (deg/10) to accept calibrator [1.] </li>
<li>MaxWt OBIT_float (1,1,1) Max. weight [10.0] </li>
<li>doINEdit OBIT_boolean (1,1,1) If true flag solutions for which the seeing residual could not be determined or exceeds MaxRMS [def TRUE] </li>
<li>doSN OBIT_boolean (1,1,1) If true, convert IN table to an SN table attached to inUV. [def False] </li>
<li>solInt OBIT_float (1,1,1) Solution interval (min). [def 1] </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>Error code: 0 =&gt; ok, -1 =&gt; all data flagged </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="ObitIonCal.c::ObitIonCalFindImage"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCalFindImage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitImage.html">ObitImage</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>image</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Lookup calibrators for image. 
<p>
Previous contents of the <a class="el" href="structCalList.html">CalList</a> are cleared <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>IonCal object Control parameters are on the info member. <ul>
<li>Catalog OBIT_char (?,1,1) AIPSVZ format FITS catalog for defining outliers, 'Default' or blank = use default catalog. </li>
<li>catDisk OBIT_int (1,1,1) FITS disk for catalog [def 1] </li>
<li>OutlierFlux OBIT_float (1,1,1) Minimum estimated flux density include cal. fields from Catalog. [default 0.1 Jy ] </li>
<li>OutlierSI OBIT_float (1,1,1) Spectral index to use to convert catalog flux density to observed frequency. [default = -0.75] </li>
<li>MaxQual OBIT_int (1,1,1) Max. cal. quality code [def 1] </li>
<li>prtLv OBIT_int (1,1,1) Print level &gt;=2 =&gt; give list [def 0]</li>
</ul>
calList Calibrator list each element of which has: <ul>
<li>ra position RA (deg) of calibrators </li>
<li>dec position Dec (deg) of calibrators </li>
<li>shift Offset in field [x,y] on unit Zernike circle of position </li>
<li>pixel Expected pixel in reference image </li>
<li>flux Estimated catalog flux density </li>
<li>offset Measured offset [x,y] from expected position (deg) </li>
<li>peak Measured peak flux density (image units) </li>
<li>fint Measured integrated flux density (image units) </li>
<li>wt Determined weight </li>
<li>qual Catalog quality code </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>Image object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>Error stack </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a48" doxytag="ObitIonCal.c::ObitIonCalFit1"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a> ObitIonCalFit1           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>epoch</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>coef</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Fit single epoch Zernike model. 
<p>
Iteratively edits most discrepant point if needed to get RMS residual down to MaxRMS. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>IonCal object Control parameters are on the info member. <ul>
<li>"nZern" OBIT_int (1,1,1) Zernike polynomial order requested [def 5] </li>
<li>"MaxRMS" OBIT_float (1,1,1) Target RMS residual (asec), default 10 asec </li>
<li>prtLv OBIT_int (1,1,1) Print level &gt;=3 =&gt; give fitting diagnostics [def. 0] </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>epoch</em>&nbsp;</td><td>1-rel time index i measurements </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coef</em>&nbsp;</td><td>[out] Fitted coefficients </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>Error stack </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>RMS residual in deg, -1 on error </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="ObitIonCal.c::ObitIonCalGetClass"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">gconstpointer ObitIonCalGetClass           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: ClassInfo pointer. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to the class structure. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="ObitIonCal.c::ObitIonCalInit"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCalInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">gpointer&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>inn</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Private: Initialize newly instantiated object. 
<p>
Parent classes portions are (recursively) initialized first <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inn</em>&nbsp;</td><td>Pointer to the object to initialize. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a50" doxytag="ObitIonCal.c::ObitIonCalPosMosaic"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCalPosMosaic           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitImageMosaic.html">ObitImageMosaic</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>mosaic</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>epoch</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Fit position offsets to sources expected at centers of a mosaic. 
<p>
Asumes given a calList with entries corresponding to entries in an Image mosaic, fit the actual positioins in the mosaic and write new entries in the <a class="el" href="structCalList.html">CalList</a> with offsets for acceptable fits. Resultant positions are all referred to a tangent plane at the pointing center, this is referred to as the Zernike plane as this plane will be used to fit the phase screen. The "Zernike Unit Circle" defines the phase screen. Source position offsets are in the X and Y (RA, Dec) as defined by this plane. Routine adapted from the AIPSish CALPOS.FOR/CALPOS <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>IonCal object Control parameters are on the info member. <ul>
<li>"nZern" OBIT_int (1,1,1) Zernike polynomial order requested [def 5] </li>
<li>FitDist OBIT_int (1,1,1) dist, from expected location to search asec [10 pixels] </li>
<li>MinPeak OBIT_float (1,1,1) Min. acceptable image peak (Jy) [1.0] </li>
<li>MaxDist OBIT_float (1,1,1) Max. distance (deg/10) to accept calibrator [1.] </li>
<li>MaxWt OBIT_float (1,1,1) Max. weight [10.0] </li>
<li>MaxQual OBIT_int (1,1,1) Max. cal. quality code [def 1] </li>
<li>prtLv OBIT_int (1,1,1) Print level &gt;=1 =&gt; give fits </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mosaic</em>&nbsp;</td><td>Image mosaic object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>calList</em>&nbsp;</td><td>Calibrator list each element of which has: <ul>
<li>ra position RA (deg) of calibrators </li>
<li>dec position Dec (deg) of calibrators </li>
<li>shift Offset in field [x,y] on unit Zernike circle of position </li>
<li>pixel Expected pixel in reference image </li>
<li>flux Estimated catalog flux density </li>
<li>offset Measured offset [x,y] from expected position (deg) </li>
<li>peak Measured peak flux density (image units) </li>
<li>fint Measured integrated flux density (image units) </li>
<li>wt Determined weight </li>
<li>qual Catalog quality code </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>Error stack </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>epoch</em>&nbsp;</td><td>Epoch number </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a47" doxytag="ObitIonCal.c::ObitIonCalPosMul"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCalPosMul           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitImage.html">ObitImage</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>image</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Fit multiple calibrators in same image. 
<p>
Given an image containing calibrator sources, return fitted fluxes and position offsets. Resultant positions are all referred to a tangent plane at the pointing center, this is referred to as the Zernike plane as this plane will be used to fit the phase screen. The "Zernike Unit Circle" defines the phase screen. Source position offsets are in the X and Y (RA, Dec) as defined by this plane. Routine translated from the AIPSish CALPOS.FOR/CALPOS <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>IonCal object Control parameters are on the info member. <ul>
<li>"FitDist" OBIT_int (1,1,1) dist, from expected location to search asec [10 pixels] </li>
<li>"MinPeak" OBIT_float (1,1,1) Min. acceptable image peak (Jy) [1.0] </li>
<li>"MaxDist" OBIT_float (1,1,1) Max. distance (deg/10) to accept calibrator [1.] </li>
<li>"MaxWt" OBIT_float (1,1,1) Max. weight [10.0] </li>
<li>prtLv OBIT_int (1,1,1) Print level &gt;=1 =&gt; give fits </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>Image object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>calList</em>&nbsp;</td><td>Calibrator list each element of which has: <ul>
<li>ra position RA (deg) of calibrators </li>
<li>dec position Dec (deg) of calibrators </li>
<li>shift Offset in field [x,y] on unit Zernike circle of position </li>
<li>pixel Expected pixel in reference image </li>
<li>flux Estimated catalog flux density </li>
<li>offset Measured offset [x,y] from expected position (deg) </li>
<li>peak Measured peak flux density (image units) </li>
<li>fint Measured integrated flux density (image units) </li>
<li>wt Determined weight </li>
<li>qual Catalog quality code </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td>Error stack </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="ObitIonCal.c::ObitIonCalSetData"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ObitIonCalSetData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitIonCal.html">ObitIonCal</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitUV.html">ObitUV</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inUV</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Public: Attach uv data. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>Object to attach UV data to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inUV</em>&nbsp;</td><td>UV data to attach </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jul 20 08:52:39 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
