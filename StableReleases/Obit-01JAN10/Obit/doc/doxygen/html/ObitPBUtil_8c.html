<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ObitPBUtil.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a></div>
<h1>ObitPBUtil.c File Reference</h1>ObitPBUtil function definitions. <a href="#_details">More...</a>
<p>
<code>#include "<a class="el" href="ObitPBUtil_8h-source.html">ObitPBUtil.h</a>"</code><br>
<code>#include &lt;math.h&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitPBUtil_8c.html#a0">ObitPBUtilPoly</a> (<a class="el" href="ObitTypes_8h.html#a7">odouble</a> Angle, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> Freq, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> pbmin)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Use polynomial beam shape - useful for VLA frequencies &lt; 1.0 GHz.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitPBUtil_8c.html#a1">ObitPBUtilJinc</a> (<a class="el" href="ObitTypes_8h.html#a7">odouble</a> Angle, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> Freq, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> antSize, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> pbmin)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Use Jinc beam shape - useful for frequencies &gt; 1.0 GHz.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitPBUtil_8c.html#a2">ObitPBUtilRelPB</a> (<a class="el" href="ObitTypes_8h.html#a7">odouble</a> Angle, <a class="el" href="ObitTypes_8h.html#a5">olong</a> nfreq, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> *Freq, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> antSize, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> pbmin, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> refFreq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function which returns relative primary beam correction.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitPBUtil_8c.html#a3">ObitPBUtilPntErr</a> (<a class="el" href="ObitTypes_8h.html#a7">odouble</a> Angle, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> AngleO, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> antSize, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> pbmin, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> Freq)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function which returns pointing error amplitude correction.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structObitTableCC.html">ObitTableCC</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitPBUtil_8c.html#a4">ObitPBUtilCCCor</a> (<a class="el" href="structObitImage.html">ObitImage</a> *image, <a class="el" href="ObitTypes_8h.html#a5">olong</a> inCCver, <a class="el" href="ObitTypes_8h.html#a5">olong</a> *outCCver, <a class="el" href="ObitTypes_8h.html#a5">olong</a> nfreq, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> *Freq, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> antSize, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> pbmin, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> refFreq, <a class="el" href="ObitTypes_8h.html#a5">olong</a> *startCC, <a class="el" href="ObitTypes_8h.html#a5">olong</a> *endCC, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Correct <a class="el" href="structObitTableCC.html">ObitTableCC</a> for relative Primary Beam.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structObitFArray.html">ObitFArray</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ObitPBUtil_8c.html#a5">ObitPBUtilImageCor</a> (<a class="el" href="structObitImage.html">ObitImage</a> *inImage, <a class="el" href="ObitTypes_8h.html#a5">olong</a> *inPlane, <a class="el" href="ObitTypes_8h.html#a5">olong</a> nfreq, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> *Freq, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> antSize, <a class="el" href="ObitTypes_8h.html#a6">ofloat</a> pbmin, <a class="el" href="ObitTypes_8h.html#a7">odouble</a> refFreq, <a class="el" href="structObitErr.html">ObitErr</a> *err)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Correct Image for relative Primary Beam.  <a href="#a5"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
ObitPBUtil function definitions. 
<p>
Antenna primary beam shape utility class.<hr><h2>Function Documentation</h2>
<a class="anchor" name="a4" doxytag="ObitPBUtil.c::ObitPBUtilCCCor"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structObitTableCC.html">ObitTableCC</a>* ObitPBUtilCCCor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitImage.html">ObitImage</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>image</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>inCCver</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>outCCver</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nfreq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Freq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>antSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pbmin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>refFreq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>startCC</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>endCC</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Correct <a class="el" href="structObitTableCC.html">ObitTableCC</a> for relative Primary Beam. 
<p>
From the AIPSish $FOURMASS/SUB/PBUTIL.FOR PBFCCT <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>input image with input CC table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inCCver</em>&nbsp;</td><td>input CC table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outCCver</em>&nbsp;</td><td>Desired output CC table on image, if 0 then new value used returned. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nfreq</em>&nbsp;</td><td>number of frequencies in Freq </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Freq</em>&nbsp;</td><td>Frequencies (Hz) of observations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>antSize</em>&nbsp;</td><td>Antenna diameter in meters. (defaults to 25.0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pbmin</em>&nbsp;</td><td>Minimum antenna gain Jinc 0=&gt;0.05, poly 0=&gt; 0.01 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>refFreq</em>&nbsp;</td><td>Reference frequency (Hz) for which CC table is needed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>startCC</em>&nbsp;</td><td>[in] the desired first CC number (1-rel) [out] the actual first CC number in returned table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endCC</em>&nbsp;</td><td>[in] the desired highest CC number, 0=&gt; to end of table [out] the actual highest CC bumber in returned table </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td><a class="el" href="structObit.html">Obit</a> error/message object </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to ObitCCtable, Unref when no longer needed. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="ObitPBUtil.c::ObitPBUtilImageCor"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="structObitFArray.html">ObitFArray</a>* ObitPBUtilImageCor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structObitImage.html">ObitImage</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inImage</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>inPlane</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nfreq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Freq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>antSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pbmin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>refFreq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structObitErr.html">ObitErr</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>err</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Correct Image for relative Primary Beam. 
<p>
From the AIPSish $FOURMASS/SUB/PBUTIL.FOR PBFSCI <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inImage</em>&nbsp;</td><td>input image with </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inPlane</em>&nbsp;</td><td>Desired plane in inImage, 1-rel pixel numbers on planes 3-7; ignored if memOnly </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nfreq</em>&nbsp;</td><td>number of frequencies in Freq </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Freq</em>&nbsp;</td><td>Frequencies (Hz) of observations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>antSize</em>&nbsp;</td><td>Antenna diameter in meters. (defaults to 25.0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pbmin</em>&nbsp;</td><td>Minimum antenna gain Jinc 0=&gt;0.05, poly 0=&gt; 0.01 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>refFreq</em>&nbsp;</td><td>Reference frequency (Hz) for which CC table is needed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err</em>&nbsp;</td><td><a class="el" href="structObit.html">Obit</a> error/message object </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>pointer to <a class="el" href="structObitFArray.html">ObitFArray</a>, Unref when no longer needed. NULL on error </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="ObitPBUtil.c::ObitPBUtilJinc"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a> ObitPBUtilJinc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Angle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Freq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>antSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pbmin</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use Jinc beam shape - useful for frequencies &gt; 1.0 GHz. 
<p>
The power pattern is calculated from the pointing position and for observing frequency freq (Hz). The power pattern (2 * j1(x) / x) ** 2 of a uniformly illuminated circular aperture is used, since it fits the observations better than the standard PBCOR beam does. If the relative gain is less than pbmin, it is set to pbmin. vscale is a measured constant inversely proportional to the VLA primary beamwidth, which is assumed to scale as 1./freq. vscale = 4.487e-9 corresponds to a 29.4 arcmin fwhm at 1.47 ghz. the actual scale is determined from the antenna size (antSize). xmax = value of x where the series approximation to the J1 goes from the small angle approximation to the large angle approximation. Note: this routine is probably only useful for the VLA but might be ok for a homogenous array of uniformly illuminated antennas where the beam scales from the VLA beam by the ratio of antenna diameters. From the AIPSish $FOURMASS/SUB/PBUTIL.FOR <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Angle</em>&nbsp;</td><td>Angle from the pointing position (deg) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Freq</em>&nbsp;</td><td>Frequency (Hz) of observations </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>antSize</em>&nbsp;</td><td>Antenna diameter in meters. (defaults to 25.0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pbmin</em>&nbsp;</td><td>Minimum antenna gain 0=&gt;0.05 </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Fractional antenna power [pbmin, 1] </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="ObitPBUtil.c::ObitPBUtilPntErr"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a> ObitPBUtilPntErr           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Angle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>AngleO</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>antSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pbmin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Freq</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function which returns pointing error amplitude correction. 
<p>
Note: this is the power pattern. Uses ObitPBUtilPoly (VLA assumed) for frequencies &lt; 1 GHz and ObitPBUtilJinc at higher frequencies Adopted from the AIPSish $FOURMASS/SUB/PBUTIL.FOR PBFACT <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Angle</em>&nbsp;</td><td>Intended angle from the intended pointing position (deg) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>AngleO</em>&nbsp;</td><td>Actual angle from the intended pointing position (deg) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>antSize</em>&nbsp;</td><td>Antenna diameter in meters. (defaults to 25.0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pbmin</em>&nbsp;</td><td>Minimum antenna gain Jinc 0=&gt;0.05, poly 0=&gt; 0.01 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Freq</em>&nbsp;</td><td>Frequency (Hz) for which rel. gain is desired </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>amplitude correction </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="ObitPBUtil.c::ObitPBUtilPoly"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a> ObitPBUtilPoly           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Angle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Freq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pbmin</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use polynomial beam shape - useful for VLA frequencies &lt; 1.0 GHz. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Angle</em>&nbsp;</td><td>Angle from the pointing position (deg) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Freq</em>&nbsp;</td><td>Frequency (Hz) of observations </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pbmin</em>&nbsp;</td><td>Minimum antenna gain 0=&gt;0.01 </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Fractional antenna power [pbmin, 1] </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="ObitPBUtil.c::ObitPBUtilRelPB"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a6">ofloat</a> ObitPBUtilRelPB           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>Angle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a5">olong</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>nfreq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Freq</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>antSize</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a6">ofloat</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>pbmin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="ObitTypes_8h.html#a7">odouble</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>refFreq</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function which returns relative primary beam correction. 
<p>
Uses ObitPBUtilPoly (VLA assumed) for frequencies &lt; 1 GHz and ObitPBUtilJinc at higher frequencies Adopted from the AIPSish $FOURMASS/SUB/PBUTIL.FOR PBFACT <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Angle</em>&nbsp;</td><td>Angle from the pointing position (deg) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nfreq</em>&nbsp;</td><td>number of frequencies in Freq </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Freq</em>&nbsp;</td><td>Frequencies (Hz) of observations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>antSize</em>&nbsp;</td><td>Antenna diameter in meters. (defaults to 25.0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pbmin</em>&nbsp;</td><td>Minimum antenna gain Jinc 0=&gt;0.05, poly 0=&gt; 0.01 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>refFreq</em>&nbsp;</td><td>Reference frequency (Hz) for which rel. gain is desired </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Relative gain at freq refFreq wrt average of Freq. </dd></dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jul 20 08:52:40 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
