\section{Obit\-UVSoln.h File Reference}
\label{ObitUVSoln_8h}\index{ObitUVSoln.h@{ObitUVSoln.h}}
{\bf Obit}{\rm (p.\,\pageref{structObit})} utilities for manipulating Solution (SN) tables. 

{\tt \#include \char`\"{}Obit.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Err.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-UV.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Table\-SN.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Table\-CL.h\char`\"{}}\par
\subsection*{Classes}
\begin{CompactItemize}
\item 
struct {\bf Obit\-UVSoln}
\begin{CompactList}\small\item\em Obit\-UVSoln Class structure. \item\end{CompactList}\item 
struct {\bf Obit\-UVSoln\-Class\-Info}
\begin{CompactList}\small\item\em Class\-Info Structure. \item\end{CompactList}\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf Obit\-UVSoln\-Unref}(in)\ Obit\-Unref (in)
\begin{CompactList}\small\item\em Macro to unreference (and possibly destroy) an {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})} returns a Obit\-UVSoln$\ast$. \item\end{CompactList}\item 
\#define {\bf Obit\-UVSoln\-Ref}(in)\ Obit\-Ref (in)
\begin{CompactList}\small\item\em Macro to reference (update reference count) an {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})}. \item\end{CompactList}\item 
\#define {\bf Obit\-UVSoln\-Is\-A}(in)\ Obit\-Is\-A (in, Obit\-UVSoln\-Get\-Class())
\begin{CompactList}\small\item\em Macro to determine if an object is the member of this or a derived class. \item\end{CompactList}\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef {\bf Obit\-UVSoln} $\ast$($\ast$ {\bf Obit\-UVSoln\-Create\-FP} )(gchar $\ast$name, {\bf Obit\-UV} $\ast$in\-UV)
\begin{CompactList}\small\item\em Typedef for definition of class pointer structure. \item\end{CompactList}\item 
typedef void($\ast$ {\bf Obit\-UVSoln\-Start\-Up\-FP} )({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Typedef for definition of class pointer structure. \item\end{CompactList}\item 
typedef gboolean($\ast$ {\bf Obit\-UVSoln\-Get\-SNFP} )({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Table\-SNRow} $\ast$SNrow, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Typedef for definition of class pointer structure. \item\end{CompactList}\item 
typedef void($\ast$ {\bf Obit\-UVSoln\-Shut\-Down\-FP} )({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Typedef for definition of class pointer structure. \item\end{CompactList}\end{CompactItemize}
\subsection*{Enumerations}
\begin{CompactItemize}
\item 
enum {\bf obit\-UVSoln\-Inter\-Mode} \{ \par
{\bf OBIT\_\-UVSoln\-Inter\-Unknown} = 0, 
{\bf OBIT\_\-UVSoln\-Inter2PT}, 
{\bf OBIT\_\-UVSoln\-Inter\-SELF}, 
{\bf OBIT\_\-UVSoln\-Inter\-POLY}, 
\par
{\bf OBIT\_\-UVSoln\-Inter\-SIMP}, 
{\bf OBIT\_\-UVSoln\-Inter\-AMBG}, 
{\bf OBIT\_\-UVSoln\-Inter\-CUBE}, 
{\bf OBIT\_\-UVSoln\-Inter\-MWF}, 
\par
{\bf OBIT\_\-UVSoln\-Inter\-BOX}, 
{\bf OBIT\_\-UVSoln\-Inter\-GAUS}
 \}
\begin{CompactList}\small\item\em enum for UVSoln interpolation modes \item\end{CompactList}\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void {\bf Obit\-UVSoln\-Class\-Init} (void)
\begin{CompactList}\small\item\em Public: Class initializer. \item\end{CompactList}\item 
{\bf Obit\-UVSoln} $\ast$ {\bf new\-Obit\-UVSoln} (gchar $\ast$name)
\begin{CompactList}\small\item\em Public: Default Constructor. \item\end{CompactList}\item 
{\bf Obit\-UVSoln} $\ast$ {\bf Obit\-UVSoln\-Create} (gchar $\ast$name, {\bf Obit\-UV} $\ast$in\-UV)
\begin{CompactList}\small\item\em Public: Create/initialize {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})} structures. \item\end{CompactList}\item 
gconstpointer {\bf Obit\-UVSoln\-Get\-Class} (void)
\begin{CompactList}\small\item\em Public: Class\-Info pointer. \item\end{CompactList}\item 
{\bf Obit\-UVSoln} $\ast$ {\bf Obit\-UVSoln\-Copy} ({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-UVSoln} $\ast$out, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Copy (deep) constructor. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Clone} ({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-UVSoln} $\ast$out, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Copy structure. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Start\-Up} ({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Initialize interpolation. \item\end{CompactList}\item 
gboolean {\bf Obit\-UVSoln\-Get\-SN} ({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Table\-SNRow} $\ast$SNrow, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: interpolate calibration at a given time. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Shut\-Down} ({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Shutdown interpolation. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Ref\-Ant} ({\bf Obit\-Table\-SN} $\ast$SNTab, {\bf olong} isuba, {\bf olong} $\ast$refant, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Refererence phases to a common reference antenna. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Avg\-Rate} ({\bf Obit\-Table\-SN} $\ast$SNTab, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Average fringe rates over IF/poln in an SN table. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-SNSmo} ({\bf Obit\-Table\-SN} $\ast$SNTab, {\bf olong} isuba, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Smooth an SN table and possible interpolate blanked soln. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Desel\-SN} ({\bf Obit\-Table\-SN} $\ast$SNTab, {\bf olong} isuba, {\bf olong} fqid, {\bf olong} nantf, {\bf olong} $\ast$ants, {\bf olong} nsou, {\bf olong} $\ast$sources, {\bf ofloat} timerange[2], {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Deselect records in an SN table. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Desel\-CL} ({\bf Obit\-Table\-CL} $\ast$CLTab, {\bf olong} isuba, {\bf olong} fqid, {\bf olong} nantf, {\bf olong} $\ast$ants, {\bf olong} nsou, {\bf olong} $\ast$sources, {\bf ofloat} timerange[2], {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Deselect records in a CL table. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-SNSmooth} ({\bf Obit\-Table\-SN} $\ast$SNTab, gchar $\ast$smo\-Func, gchar $\ast$smo\-Type, {\bf ofloat} alpha, {\bf ofloat} $\ast$smo\-Parm, {\bf olong} iif, {\bf olong} sub, {\bf ofloat} $\ast$gncnt, {\bf ofloat} $\ast$gnsum, {\bf olong} nxt, {\bf ofloat} $\ast$work1, {\bf ofloat} $\ast$work2, gboolean do\-Blank, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Smooth solutions for a given IF and subarray. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Smoo\-Box} ({\bf ofloat} smo\-Time, {\bf ofloat} $\ast$x, {\bf ofloat} $\ast$y, {\bf ofloat} $\ast$w, {\bf olong} n, {\bf ofloat} $\ast$ys, {\bf ofloat} $\ast$ws, gboolean do\-Blank)
\begin{CompactList}\small\item\em Boxcar smoothing with weighting of an irregularly spaced array. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Smoo\-Gauss} ({\bf ofloat} smo\-Time, {\bf ofloat} $\ast$x, {\bf ofloat} $\ast$y, {\bf ofloat} $\ast$w, {\bf olong} n, {\bf ofloat} $\ast$ys, {\bf ofloat} $\ast$ws, {\bf ofloat} $\ast$wtsum, gboolean do\-Blank)
\begin{CompactList}\small\item\em Gaussian smoothing with weighting of an irregularly spaced array. \item\end{CompactList}\item 
void {\bf Obit\-UVSoln\-Smoo\-MWF} ({\bf ofloat} smo\-Time, {\bf ofloat} alpha, {\bf ofloat} $\ast$x, {\bf ofloat} $\ast$y, {\bf ofloat} $\ast$w, {\bf olong} n, {\bf ofloat} $\ast$ys, {\bf ofloat} $\ast$ws, {\bf ofloat} $\ast$yor, {\bf ofloat} $\ast$wor, gboolean do\-Blank)
\begin{CompactList}\small\item\em Median Window smoothing with weighting of an irregularly spaced array. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
{\bf Obit}{\rm (p.\,\pageref{structObit})} utilities for manipulating Solution (SN) tables. 

This class manipulates, mostly interpolates, solutions tables to specified times and using a vareity of interpolation techniques.

The following options can be entered onto the info list prior to Start\-Up: \begin{itemize}
\item \char`\"{}inter\-Mode\char`\"{}, OBIT\_\-string (4,1,1) Interpolation mode: default or blank = \char`\"{}2PT \char`\"{} \item \char`\"{}2PT \char`\"{} = linear vector interpolation with no SN smoothing. \item \char`\"{}SELF\char`\"{} = Use only SN solution from same source which is closest in time. \item \char`\"{}POLY\char`\"{} = Fit a polynomial to the SN rates and delays. Use the integral of the rate polynomial for the phases. \item \char`\"{}SIMP\char`\"{} = Simple linear phase connection between SN phase entries, assumes phase difference less than 180 degrees. \item \char`\"{}AMBG\char`\"{} = Linear phase connection using rates to resolve phase ambiguities. \item \char`\"{}CUBE\char`\"{} = As AMBG but fit third order polynomial to phases and rates. \item \char`\"{}MWF \char`\"{} = Median window filter of SN table before 2PT interpolation \item \char`\"{}BOX \char`\"{} = Boxcar smoothing of SN table before 2PT interpolation, boxcar width set by adverb INTPARM. \item \char`\"{}GAUS\char`\"{} = Gaussian smoothing of SN table before 2PT interpolation, \item \char`\"{}inter\-Parm\char`\"{}, OBIT\_\-float (3,1,1) interpolation parameters \item mode=\char`\"{}BOX \char`\"{}, smoothing time in hours for amplitude, phase, delay/rate \item mode=\char`\"{}MWF \char`\"{}, window size in hours for amplitude, phase, delay/rate\end{itemize}
\begin{itemize}
\item \char`\"{}inter\-NPoly\char`\"{}, OBIT\_\-int (1,1,1) number of terms in polynomial for mode=\char`\"{}POLY\char`\"{}, default = 2\end{itemize}
\begin{itemize}
\item \char`\"{}max\-Inter\char`\"{}, OBIT\_\-float (1,1,1) Max. time (min) over which to interpolate. default = 1440.0;\end{itemize}
\begin{itemize}
\item \char`\"{}soln\-Ver\char`\"{}, OBIT\_\-int (1,1,1) Solution (SN) table version to use. 0=$>$ highest, default 0\end{itemize}
Any data selection parameters on the input UV data info object will be applied.\subsection{Creators and Destructors}\label{ObitUVSoln_8h_ObitUVSolnaccess}
An {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})} will usually be created using Obit\-UVSoln\-Create which allows specifying a name for the object as well as other information.

A copy of a pointer to an {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})} should always be made using the {\bf Obit\-UVSoln\-Ref}{\rm (p.\,\pageref{ObitUVSoln_8h_a1})} function which updates the reference count in the object. Then whenever freeing an {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})} or changing a pointer, the function {\bf Obit\-UVSoln\-Unref}{\rm (p.\,\pageref{ObitUVSoln_8h_a0})} will decrement the reference count and destroy the object when the reference count hits 0. There is no explicit destructor.

\subsection{Define Documentation}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnIsA@{ObitUVSolnIsA}}
\index{ObitUVSolnIsA@{ObitUVSolnIsA}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Obit\-UVSoln\-Is\-A(in)\ Obit\-Is\-A (in, Obit\-UVSoln\-Get\-Class())}\label{ObitUVSoln_8h_a2}


Macro to determine if an object is the member of this or a derived class. 

Returns TRUE if a member, else FALSE in = object to reference \index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnRef@{ObitUVSolnRef}}
\index{ObitUVSolnRef@{ObitUVSolnRef}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Obit\-UVSoln\-Ref(in)\ Obit\-Ref (in)}\label{ObitUVSoln_8h_a1}


Macro to reference (update reference count) an {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})}. 

returns a Obit\-UVSoln$\ast$. in = object to reference \index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnUnref@{ObitUVSolnUnref}}
\index{ObitUVSolnUnref@{ObitUVSolnUnref}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Obit\-UVSoln\-Unref(in)\ Obit\-Unref (in)}\label{ObitUVSoln_8h_a0}


Macro to unreference (and possibly destroy) an {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})} returns a Obit\-UVSoln$\ast$. 

in = object to unreference 

\subsection{Typedef Documentation}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnCreateFP@{ObitUVSolnCreateFP}}
\index{ObitUVSolnCreateFP@{ObitUVSolnCreateFP}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Obit\-UVSoln}$\ast$($\ast$ {\bf Obit\-UVSoln\-Create\-FP})(gchar $\ast$name, {\bf Obit\-UV} $\ast$in\-UV)}\label{ObitUVSoln_8h_a3}


Typedef for definition of class pointer structure. 

\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnGetSNFP@{ObitUVSolnGetSNFP}}
\index{ObitUVSolnGetSNFP@{ObitUVSolnGetSNFP}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef gboolean($\ast$ {\bf Obit\-UVSoln\-Get\-SNFP})({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Table\-SNRow} $\ast$SNrow, {\bf Obit\-Err} $\ast$err)}\label{ObitUVSoln_8h_a5}


Typedef for definition of class pointer structure. 

\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnShutDownFP@{ObitUVSolnShutDownFP}}
\index{ObitUVSolnShutDownFP@{ObitUVSolnShutDownFP}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf Obit\-UVSoln\-Shut\-Down\-FP})({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Err} $\ast$err)}\label{ObitUVSoln_8h_a6}


Typedef for definition of class pointer structure. 

\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnStartUpFP@{ObitUVSolnStartUpFP}}
\index{ObitUVSolnStartUpFP@{ObitUVSolnStartUpFP}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf Obit\-UVSoln\-Start\-Up\-FP})({\bf Obit\-UVSoln} $\ast$in, {\bf Obit\-Err} $\ast$err)}\label{ObitUVSoln_8h_a4}


Typedef for definition of class pointer structure. 



\subsection{Enumeration Type Documentation}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!obitUVSolnInterMode@{obitUVSolnInterMode}}
\index{obitUVSolnInterMode@{obitUVSolnInterMode}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}enum {\bf obit\-UVSoln\-Inter\-Mode}}\label{ObitUVSoln_8h_a35}


enum for UVSoln interpolation modes 

\begin{Desc}
\item[Enumeration values: ]\par
\begin{description}
\index{OBIT_UVSolnInterUnknown@{OBIT\_\-UVSolnInterUnknown}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterUnknown@{OBIT\_\-UVSolnInterUnknown}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-Unknown\label{ObitUVSoln_8h_a35a7}
}]Undefined interpolation type. \index{OBIT_UVSolnInter2PT@{OBIT\_\-UVSolnInter2PT}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInter2PT@{OBIT\_\-UVSolnInter2PT}}\item[{\em 
OBIT\_\-UVSoln\-Inter2PT\label{ObitUVSoln_8h_a35a8}
}]linear vector interpolation with no SN smoothing. \index{OBIT_UVSolnInterSELF@{OBIT\_\-UVSolnInterSELF}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterSELF@{OBIT\_\-UVSolnInterSELF}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-SELF\label{ObitUVSoln_8h_a35a9}
}]Use only SN solution from same source. \index{OBIT_UVSolnInterPOLY@{OBIT\_\-UVSolnInterPOLY}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterPOLY@{OBIT\_\-UVSolnInterPOLY}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-POLY\label{ObitUVSoln_8h_a35a10}
}]Fit a polynomial to the SN rates and delays. \index{OBIT_UVSolnInterSIMP@{OBIT\_\-UVSolnInterSIMP}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterSIMP@{OBIT\_\-UVSolnInterSIMP}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-SIMP\label{ObitUVSoln_8h_a35a11}
}]Simple linear phase connection. \index{OBIT_UVSolnInterAMBG@{OBIT\_\-UVSolnInterAMBG}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterAMBG@{OBIT\_\-UVSolnInterAMBG}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-AMBG\label{ObitUVSoln_8h_a35a12}
}]Linear phase connection using rates to resolve phase ambiguities. \index{OBIT_UVSolnInterCUBE@{OBIT\_\-UVSolnInterCUBE}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterCUBE@{OBIT\_\-UVSolnInterCUBE}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-CUBE\label{ObitUVSoln_8h_a35a13}
}]As AMBG but fit third order polynomial to phases and rates. \index{OBIT_UVSolnInterMWF@{OBIT\_\-UVSolnInterMWF}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterMWF@{OBIT\_\-UVSolnInterMWF}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-MWF\label{ObitUVSoln_8h_a35a14}
}]Median window filter of SN table before 2PT interpolation. \index{OBIT_UVSolnInterBOX@{OBIT\_\-UVSolnInterBOX}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterBOX@{OBIT\_\-UVSolnInterBOX}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-BOX\label{ObitUVSoln_8h_a35a15}
}]Boxcar smoothing of SN table before 2PT interpolation. \index{OBIT_UVSolnInterGAUS@{OBIT\_\-UVSolnInterGAUS}!ObitUVSoln.h@{ObitUVSoln.h}}\index{ObitUVSoln.h@{ObitUVSoln.h}!OBIT_UVSolnInterGAUS@{OBIT\_\-UVSolnInterGAUS}}\item[{\em 
OBIT\_\-UVSoln\-Inter\-GAUS\label{ObitUVSoln_8h_a35a16}
}]Gaussian smoothing of SN table before 2PT interpolation. \end{description}
\end{Desc}



\subsection{Function Documentation}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!newObitUVSoln@{newObitUVSoln}}
\index{newObitUVSoln@{newObitUVSoln}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-UVSoln}$\ast$ new\-Obit\-UVSoln (gchar $\ast$ {\em name})}\label{ObitUVSoln_8h_a18}


Public: Default Constructor. 

Initializes class if needed on first call. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em name}]An optional name for the object. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the new object. \end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnAvgRate@{ObitUVSolnAvgRate}}
\index{ObitUVSolnAvgRate@{ObitUVSolnAvgRate}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Avg\-Rate ({\bf Obit\-Table\-SN} $\ast$ {\em SNTab}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a27}


Average fringe rates over IF/poln in an SN table. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em SNTab}]SN table object \item[{\em err}]Error/message stack, returns if error. \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnClassInit@{ObitUVSolnClassInit}}
\index{ObitUVSolnClassInit@{ObitUVSolnClassInit}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Class\-Init (void)}\label{ObitUVSoln_8h_a17}


Public: Class initializer. 

\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnClone@{ObitUVSolnClone}}
\index{ObitUVSolnClone@{ObitUVSolnClone}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Clone ({\bf Obit\-UVSoln} $\ast$ {\em in}, {\bf Obit\-UVSoln} $\ast$ {\em out}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a22}


Public: Copy structure. 

\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnCopy@{ObitUVSolnCopy}}
\index{ObitUVSolnCopy@{ObitUVSolnCopy}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-UVSoln}$\ast$ Obit\-UVSoln\-Copy ({\bf Obit\-UVSoln} $\ast$ {\em in}, {\bf Obit\-UVSoln} $\ast$ {\em out}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a21}


Public: Copy (deep) constructor. 

\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnCreate@{ObitUVSolnCreate}}
\index{ObitUVSolnCreate@{ObitUVSolnCreate}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-UVSoln}$\ast$ Obit\-UVSoln\-Create (gchar $\ast$ {\em name}, {\bf Obit\-UV} $\ast$ {\em in\-UV})}\label{ObitUVSoln_8h_a19}


Public: Create/initialize {\bf Obit\-UVSoln}{\rm (p.\,\pageref{structObitUVSoln})} structures. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em name}]An optional name for the object. \item[{\em in\-UV}]UV data with input SN table \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the new object. \end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnDeselCL@{ObitUVSolnDeselCL}}
\index{ObitUVSolnDeselCL@{ObitUVSolnDeselCL}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Desel\-CL ({\bf Obit\-Table\-CL} $\ast$ {\em CLTab}, {\bf olong} {\em isuba}, {\bf olong} {\em fqid}, {\bf olong} {\em nantf}, {\bf olong} $\ast$ {\em ants}, {\bf olong} {\em nsou}, {\bf olong} $\ast$ {\em sources}, {\bf ofloat} {\em timerange}[2], {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a30}


Deselect records in a CL table. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em CLTab}]CL table object \item[{\em isub}]Subarray number, $<$=0 -$>$ any \item[{\em fqid}]Selected FQ id, $<$=0 -$>$ any \item[{\em nantf}]Number of antennas in ants \item[{\em ants}]List of antennas, NULL or 0 in first -$>$ flag all \item[{\em nsou}]Number of source ids in sources \item[{\em sources}]List of sources, NULL or 0 in first -$>$ flag all \item[{\em timerange}]Timerange to flag, 0s -$>$ all \item[{\em err}]Error/message stack, returns if error. \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnDeselSN@{ObitUVSolnDeselSN}}
\index{ObitUVSolnDeselSN@{ObitUVSolnDeselSN}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Desel\-SN ({\bf Obit\-Table\-SN} $\ast$ {\em SNTab}, {\bf olong} {\em isuba}, {\bf olong} {\em fqid}, {\bf olong} {\em nantf}, {\bf olong} $\ast$ {\em ants}, {\bf olong} {\em nsou}, {\bf olong} $\ast$ {\em sources}, {\bf ofloat} {\em timerange}[2], {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a29}


Deselect records in an SN table. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em SNTab}]SN table object \item[{\em isub}]Subarray number, $<$=0 -$>$ any \item[{\em fqid}]Selected FQ id, $<$=0 -$>$ any \item[{\em nantf}]Number of antennas in ants \item[{\em ants}]List of antennas, NULL or 0 in first -$>$ flag all \item[{\em nsou}]Number of source ids in sources \item[{\em sources}]List of sources, NULL or 0 in first -$>$ flag all \item[{\em timerange}]Timerange to flag, 0s -$>$ all \item[{\em err}]Error/message stack, returns if error. \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnGetClass@{ObitUVSolnGetClass}}
\index{ObitUVSolnGetClass@{ObitUVSolnGetClass}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gconstpointer Obit\-UVSoln\-Get\-Class (void)}\label{ObitUVSoln_8h_a20}


Public: Class\-Info pointer. 

\begin{Desc}
\item[Returns:]pointer to the class structure. \end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnGetSN@{ObitUVSolnGetSN}}
\index{ObitUVSolnGetSN@{ObitUVSolnGetSN}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gboolean Obit\-UVSoln\-Get\-SN ({\bf Obit\-UVSoln} $\ast$ {\em in}, {\bf Obit\-Table\-SNRow} $\ast$ {\em SNrow}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a24}


Public: interpolate calibration at a given time. 

Input values on an {\bf Obit\-Table\-SNRow}{\rm (p.\,\pageref{structObitTableSNRow})} into which the results are added. Data selection is enabled. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]Solution Object. \item[{\em SNRow}]SN row giving desired time, antenna..., and to receive output \item[{\em err}]Obit\-Error stack. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]TRUE if source, time etc. selected, else FALSE. \end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnRefAnt@{ObitUVSolnRefAnt}}
\index{ObitUVSolnRefAnt@{ObitUVSolnRefAnt}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Ref\-Ant ({\bf Obit\-Table\-SN} $\ast$ {\em SNTab}, {\bf olong} {\em isuba}, {\bf olong} $\ast$ {\em refant}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a26}


Refererence phases to a common reference antenna. 

Leaves the output table sorted in antenna-time order. Routine translated from the AIPSish UVUTIL.FOR/SLFREF \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em SNTab}]SN table object \item[{\em isuba}]Desired subarray, 0=$>$ 1 \item[{\em refant}]Reference antenna, if 0 then the most commonly used reference antenna is picked. If $<$0 then only sort and not reference table \item[{\em err}]Error/message stack, returns if error. \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnShutDown@{ObitUVSolnShutDown}}
\index{ObitUVSolnShutDown@{ObitUVSolnShutDown}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Shut\-Down ({\bf Obit\-UVSoln} $\ast$ {\em in}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a25}


Public: Shutdown interpolation. 

Close any open file and destroy structures. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]Calibrate Object. \item[{\em err}]Obit\-Error stack. \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnSmooBox@{ObitUVSolnSmooBox}}
\index{ObitUVSolnSmooBox@{ObitUVSolnSmooBox}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Smoo\-Box ({\bf ofloat} {\em width}, {\bf ofloat} $\ast$ {\em x}, {\bf ofloat} $\ast$ {\em y}, {\bf ofloat} $\ast$ {\em w}, {\bf olong} {\em n}, {\bf ofloat} $\ast$ {\em ys}, {\bf ofloat} $\ast$ {\em ws}, gboolean {\em do\-Blank})}\label{ObitUVSoln_8h_a32}


Boxcar smoothing with weighting of an irregularly spaced array. 

Only returns blanked values if no valid data found. First good value used for all previous points, last good value used for all subsequent points in which all data are blanked in the boxcar. A datum is blanked if its weight is $<$= 0 or fblank. Routine translated from the AIPSish SMBOX.FOR/SMBOX \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em width}]Width of boxcar in same units as X: 0 =$>$ replace blanks with interpolated closest 2, $<$ 0 =$>$ replace only blanks with the boxcar smoothed values (all others remain unchanged) \item[{\em x}]Abscissas of points to be smoothed in increasing order \item[{\em y}]Values to be smoothed. \item[{\em w}]Weights of data. \item[{\em n}]Number of points to smooth. \item[{\em ys}]Smoothed values. \item[{\em ws}]Smoothed weights \item[{\em do\-Blank}]replace blanked values with interpolated values? \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnSmooGauss@{ObitUVSolnSmooGauss}}
\index{ObitUVSolnSmooGauss@{ObitUVSolnSmooGauss}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Smoo\-Gauss ({\bf ofloat} {\em width}, {\bf ofloat} $\ast$ {\em x}, {\bf ofloat} $\ast$ {\em y}, {\bf ofloat} $\ast$ {\em w}, {\bf olong} {\em n}, {\bf ofloat} $\ast$ {\em ys}, {\bf ofloat} $\ast$ {\em ws}, {\bf ofloat} $\ast$ {\em wtsum}, gboolean {\em do\-Blank})}\label{ObitUVSoln_8h_a33}


Gaussian smoothing with weighting of an irregularly spaced array. 

Only returns blanked values if no valid data found. First good value used for all previous points, last good value used for all subsequent points in which all data are blanked in the smoothing interval. A datum is considered blanked if its weight is $<$= 0 or its value fblank. Routine translated from the AIPSish SMGAUS.FOR/SMGAUS \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em width}]Width of boxcar in same units as X: 0 =$>$ replace blanks with interpolated closest 2, $<$ 0 =$>$ replace only blanks with the b oxcar smoothed values (all others remain unchanged) \item[{\em x}]Abscissas of points to be smoothed in increasing order \item[{\em y}]Values to be smoothed. \item[{\em w}]Weights of data. \item[{\em n}]Number of points to smooth. \item[{\em ys}]Smoothed values. \item[{\em ws}]Smoothed weights \item[{\em wtsum}]scratch \item[{\em do\-Blank}]replace blanked values with interpolated values. \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnSmooMWF@{ObitUVSolnSmooMWF}}
\index{ObitUVSolnSmooMWF@{ObitUVSolnSmooMWF}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Smoo\-MWF ({\bf ofloat} {\em width}, {\bf ofloat} {\em alpha}, {\bf ofloat} $\ast$ {\em x}, {\bf ofloat} $\ast$ {\em y}, {\bf ofloat} $\ast$ {\em w}, {\bf olong} {\em n}, {\bf ofloat} $\ast$ {\em ys}, {\bf ofloat} $\ast$ {\em ws}, {\bf ofloat} $\ast$ {\em yor}, {\bf ofloat} $\ast$ {\em wor}, gboolean {\em do\-Blank})}\label{ObitUVSoln_8h_a34}


Median Window smoothing with weighting of an irregularly spaced array. 

Only returns blanked values if no valid data found. First good value used for all previous points, last good value used for all subsequent points in which all data are blanked in the smoothing interval. A datum is considered blanked if its weight is $<$= 0 or its value fblank. Routine translated from the AIPSish SMMWF.FOR/SMMWF \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em width}]Width of boxcar in same units as X: 0 =$>$ replace blanks with interpolated closest 2, $<$ 0 =$>$ replace only blanks with the b oxcar smoothed values (all others remain unchanged) \item[{\em alpha}]0 -$>$ 1 = pure boxcar -$>$ pure MWF (ALPHA of the data samples are discarded and the rest averaged). \item[{\em x}]Abscissas of points to be smoothed in increasing order \item[{\em y}]Values to be smoothed. \item[{\em w}]Weights of data. \item[{\em n}]Number of points to smooth. \item[{\em ys}]Smoothed values. \item[{\em ws}]Smoothed weights \item[{\em yor}]Scratch \item[{\em wor}]Scratch \item[{\em do\-Blank}]replace blanked values with interpolated values. \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnSNSmo@{ObitUVSolnSNSmo}}
\index{ObitUVSolnSNSmo@{ObitUVSolnSNSmo}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-SNSmo ({\bf Obit\-Table\-SN} $\ast$ {\em SNTab}, {\bf olong} {\em isuba}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a28}


Smooth an SN table and possible interpolate blanked soln. 

Failed solutions are optionally interpolated. Leaves the output table sorted in antenna-time order. If Smo\-Type='VLMB the host {\bf Obit\-UV}{\rm (p.\,\pageref{structObitUV})} of SNTab should have a valid selector and descriptor. All rates are averaged. Routine adapted from the AIPSish UVUTIL.FOR/SLFSMO Table MUST be in Time order when called and will be returned in antenna order Controls on SNTab: \begin{itemize}
\item smo\-Func OBIT\_\-string (4,1,1) smoothing function 'MWF' (median window filter), \char`\"{}GAUS' (Gaussian) else \char`\"{}BOX\char`\"{}, [def \char`\"{}BOX\char`\"{}] \item smo\-Parm OBIT\_\-float (5,1,1) Amplitude smoothing time in hr. [def 0.0] ampl, phase, rate, singleband delay, multiband delay \item smo\-Type OBIT\_\-string (4,1,1) Data to be smoothed 'AMPL', 'PHAS', 'BOTH'[def], 'DELA', 'DERA', 'VLBI','VLMB', 'FULL', ' '='AMPL' \item do\-Blank OBIT\_\-bool (1,1,1) Replace blanked values with interpolated? [def false] \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em SNTab}]SN table object \item[{\em isuba}]Desired subarray, 0=$>$ 1 \item[{\em err}]Error/message stack, returns if error. \end{description}
\end{Desc}
\end{itemize}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnSNSmooth@{ObitUVSolnSNSmooth}}
\index{ObitUVSolnSNSmooth@{ObitUVSolnSNSmooth}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-SNSmooth ({\bf Obit\-Table\-SN} $\ast$ {\em SNTab}, gchar $\ast$ {\em smo\-Func}, gchar $\ast$ {\em smo\-Type}, {\bf ofloat} {\em alpha}, {\bf ofloat} $\ast$ {\em smo\-Parm}, {\bf olong} {\em iif}, {\bf olong} {\em sub}, {\bf ofloat} $\ast$ {\em gncnt}, {\bf ofloat} $\ast$ {\em gnsum}, {\bf olong} {\em nxt}, {\bf ofloat} $\ast$ {\em work1}, {\bf ofloat} $\ast$ {\em work2}, gboolean {\em do\-Blank}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a31}


Smooth solutions for a given IF and subarray. 

All poln present are smoothed but only one IF. The KOL pointers are presumed to point at the desired IF. An error is returned if there are any non-zero delays, rates, or multi-band delays. If the reference antenna changes and phase is being smoothed, an error is returned. Multiband delays only smoothed if iif==0; Input table must be in antenna-time order. Routine translated from the AIPSish SNSMOO.FOR/SNSMOO \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em SNTab}]SN table object; must be opened/closed externally \item[{\em smo\-Func}]Smoothing function: 'MWF', 'GAUS', else BOX \item[{\em smo\-Type}]Type of data to smooth 'AMPL', 'PHAS', 'BOTH'[def], 'VLBI','FULL' 'DERA' = Delay \& Rate only \item[{\em alpha}]Alpha clip for MWF (0 -$>$ box, 1 -$>$ pure MWF) \item[{\em smo\-Parm}]Smoothing time in days for: ampl, phase, rate, singleband delay, multiband delay 0=$>$fill in for blanked only. \item[{\em iif}]Desired IF (0-rel) \item[{\em sub}]Desired subarray (1-rel) \item[{\em gncnt}][In/Out] Count for gain normalization \item[{\em gnsum}][In/Out] Sum of gain modulii \item[{\em nxt}]Number of times allowed in WRK \item[{\em work1}]Work buffer (NXT$\ast$16) \item[{\em work2}]Work area $>$= (NXT$\ast$m) (m=2 BOX, 3 GAUS, 4 MWF) \item[{\em do\-Blank}]replace blanked values with interpolated values? \item[{\em err}]Error/message stack, returns if error. \end{description}
\end{Desc}
\index{ObitUVSoln.h@{Obit\-UVSoln.h}!ObitUVSolnStartUp@{ObitUVSolnStartUp}}
\index{ObitUVSolnStartUp@{ObitUVSolnStartUp}!ObitUVSoln.h@{Obit\-UVSoln.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-UVSoln\-Start\-Up ({\bf Obit\-UVSoln} $\ast$ {\em in}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitUVSoln_8h_a23}


Public: Initialize interpolation. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]Solution Object. \item[{\em err}]Obit\-Error stack. \end{description}
\end{Desc}
