\section{Obit\-Table\-CCUtil.h File Reference}
\label{ObitTableCCUtil_8h}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}}
{\bf Obit\-Table\-CC}{\rm (p.\,\pageref{structObitTableCC})} class utility routine definition. 

{\tt \#include \char`\"{}Obit.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Err.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Table\-CC.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Image.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Image\-Desc.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-FArray.h\char`\"{}}\par
\subsection*{Enumerations}
\begin{CompactItemize}
\item 
enum {\bf obit\-CCComp\-Type} \{ \par
{\bf OBIT\_\-CC\_\-Point\-Mod}, 
{\bf OBIT\_\-CC\_\-Gauss\-Mod}, 
{\bf OBIT\_\-CC\_\-CGauss\-Mod}, 
{\bf OBIT\_\-CC\_\-USphere\-Mod}, 
\par
{\bf OBIT\_\-CC\_\-Unknown}, 
{\bf OBIT\_\-CC\_\-Point\-Mod\-Spec} =  OBIT\_\-CC\_\-Point\-Mod+10, 
{\bf OBIT\_\-CC\_\-Gauss\-Mod\-Spec} =  OBIT\_\-CC\_\-Gauss\-Mod+10, 
{\bf OBIT\_\-CC\_\-CGauss\-Mod\-Spec} =  OBIT\_\-CC\_\-CGauss\-Mod+10, 
\par
{\bf OBIT\_\-CC\_\-USphere\-Mod\-Spec} =  OBIT\_\-CC\_\-USphere\-Mod+10
 \}
\begin{CompactList}\small\item\em enum for CC table Component model type \item\end{CompactList}\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
Obit\-IOCode {\bf Obit\-Table\-CCUtil\-Grid} ({\bf Obit\-Table\-CC} $\ast$in, {\bf olong} {\bf Over\-Sample}, {\bf olong} $\ast$first, {\bf olong} $\ast$last, gboolean no\-Neg, {\bf ofloat} factor, {\bf ofloat} min\-Flux, {\bf ofloat} max\-Flux, {\bf Obit\-Image\-Desc} $\ast$desc, {\bf Obit\-FArray} $\ast$$\ast$grid, {\bf ofloat} gparm[3], {\bf olong} $\ast$ncomps, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: grid components onto a grid. \item\end{CompactList}\item 
{\bf Obit\-FArray} $\ast$ {\bf Obit\-Table\-CCUtil\-Cross\-List} ({\bf Obit\-Table\-CC} $\ast$in\-CC, {\bf Obit\-Image\-Desc} $\ast$in\-Desc, {\bf Obit\-Image\-Desc} $\ast$out\-Desc, {\bf ofloat} gparm[3], {\bf olong} $\ast$ncomps, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: return list of CC from one image overlapping another. \item\end{CompactList}\item 
Obit\-IOCode {\bf Obit\-Table\-CCUtil\-Merge} ({\bf Obit\-Table\-CC} $\ast$in, {\bf Obit\-Table\-CC} $\ast$out, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Merge elements of an {\bf Obit\-Table\-CC}{\rm (p.\,\pageref{structObitTableCC})}. \item\end{CompactList}\item 
{\bf Obit\-FArray} $\ast$ {\bf Obit\-Table\-CCUtil\-Merge\-Sel} ({\bf Obit\-Table\-CC} $\ast$in, {\bf olong} start\-Comp, {\bf olong} end\-Comp, {\bf ofloat} $\ast$parms, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Merge elements of an {\bf Obit\-Table\-CC}{\rm (p.\,\pageref{structObitTableCC})} with selection. \item\end{CompactList}\item 
{\bf Obit\-Table\-CC} $\ast$ {\bf Obit\-Table\-CCUtil\-Merge\-Sel2Tab} ({\bf Obit\-Image} $\ast$image, {\bf olong} in\-CCver, {\bf olong} $\ast$out\-CCver, {\bf olong} start\-Comp, {\bf olong} end\-Comp, {\bf ofloat} range[2], {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Merge selected elements of an {\bf Obit\-Table\-CC}{\rm (p.\,\pageref{structObitTableCC})} to a new table. \item\end{CompactList}\item 
void {\bf Obit\-Table\-CCUtil\-Scale} ({\bf Obit\-Table\-CC} $\ast$in, {\bf olong} start\-Comp, {\bf olong} end\-Comp, {\bf ofloat} scale, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Scale the flux densities of entries in a CC table. \item\end{CompactList}\item 
void {\bf Obit\-Table\-CCUtil\-Append} ({\bf Obit\-Table\-CC} $\ast$in\-CC, {\bf Obit\-Table\-CC} $\ast$out\-CC, {\bf olong} start\-Comp, {\bf olong} end\-Comp, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Append CLEAN components from one table to another. \item\end{CompactList}\item 
gboolean {\bf Obit\-Table\-CCUtil\-Filt\-CC} ({\bf Obit\-Table\-CC} $\ast$CCTab, {\bf ofloat} radius, {\bf ofloat} min\-Flux, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Filter weak, isolated components. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
{\bf Obit\-Table\-CC}{\rm (p.\,\pageref{structObitTableCC})} class utility routine definition. 



\subsection{Enumeration Type Documentation}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!obitCCCompType@{obitCCCompType}}
\index{obitCCCompType@{obitCCCompType}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}enum {\bf obit\-CCComp\-Type}}\label{ObitTableCCUtil_8h_a17}


enum for CC table Component model type 

\begin{Desc}
\item[Enumeration values: ]\par
\begin{description}
\index{OBIT_CC_PointMod@{OBIT\_\-CC\_\-PointMod}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_PointMod@{OBIT\_\-CC\_\-PointMod}}\item[{\em 
OBIT\_\-CC\_\-Point\-Mod\label{ObitTableCCUtil_8h_a17a0}
}]Point. \index{OBIT_CC_GaussMod@{OBIT\_\-CC\_\-GaussMod}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_GaussMod@{OBIT\_\-CC\_\-GaussMod}}\item[{\em 
OBIT\_\-CC\_\-Gauss\-Mod\label{ObitTableCCUtil_8h_a17a1}
}]Gaussian on sky. \index{OBIT_CC_CGaussMod@{OBIT\_\-CC\_\-CGaussMod}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_CGaussMod@{OBIT\_\-CC\_\-CGaussMod}}\item[{\em 
OBIT\_\-CC\_\-CGauss\-Mod\label{ObitTableCCUtil_8h_a17a2}
}]Convolved Gaussian. \index{OBIT_CC_USphereMod@{OBIT\_\-CC\_\-USphereMod}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_USphereMod@{OBIT\_\-CC\_\-USphereMod}}\item[{\em 
OBIT\_\-CC\_\-USphere\-Mod\label{ObitTableCCUtil_8h_a17a3}
}]Uniform sphere. \index{OBIT_CC_Unknown@{OBIT\_\-CC\_\-Unknown}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_Unknown@{OBIT\_\-CC\_\-Unknown}}\item[{\em 
OBIT\_\-CC\_\-Unknown\label{ObitTableCCUtil_8h_a17a4}
}]Unknown. \index{OBIT_CC_PointModSpec@{OBIT\_\-CC\_\-PointModSpec}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_PointModSpec@{OBIT\_\-CC\_\-PointModSpec}}\item[{\em 
OBIT\_\-CC\_\-Point\-Mod\-Spec\label{ObitTableCCUtil_8h_a17a5}
}]Point + spectrum. \index{OBIT_CC_GaussModSpec@{OBIT\_\-CC\_\-GaussModSpec}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_GaussModSpec@{OBIT\_\-CC\_\-GaussModSpec}}\item[{\em 
OBIT\_\-CC\_\-Gauss\-Mod\-Spec\label{ObitTableCCUtil_8h_a17a6}
}]Gaussian on sky + spectrum. \index{OBIT_CC_CGaussModSpec@{OBIT\_\-CC\_\-CGaussModSpec}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_CGaussModSpec@{OBIT\_\-CC\_\-CGaussModSpec}}\item[{\em 
OBIT\_\-CC\_\-CGauss\-Mod\-Spec\label{ObitTableCCUtil_8h_a17a7}
}]Convolved Gaussian + spectrum. \index{OBIT_CC_USphereModSpec@{OBIT\_\-CC\_\-USphereModSpec}!ObitTableCCUtil.h@{ObitTableCCUtil.h}}\index{ObitTableCCUtil.h@{ObitTableCCUtil.h}!OBIT_CC_USphereModSpec@{OBIT\_\-CC\_\-USphereModSpec}}\item[{\em 
OBIT\_\-CC\_\-USphere\-Mod\-Spec\label{ObitTableCCUtil_8h_a17a8}
}]Uniform sphere + spectrum. \end{description}
\end{Desc}



\subsection{Function Documentation}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!ObitTableCCUtilAppend@{ObitTableCCUtilAppend}}
\index{ObitTableCCUtilAppend@{ObitTableCCUtilAppend}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-Table\-CCUtil\-Append ({\bf Obit\-Table\-CC} $\ast$ {\em in\-CC}, {\bf Obit\-Table\-CC} $\ast$ {\em out\-CC}, {\bf olong} {\em start\-Comp}, {\bf olong} {\em end\-Comp}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitTableCCUtil_8h_a15}


Append CLEAN components from one table to another. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\-CC}]Table to copy from \item[{\em out\-CC}]Table to copy to \item[{\em start\-Comp}]First component to select , 0=$>$1 \item[{\em end\-Comp}]Last component to select, 0=$>$ all \item[{\em err}]{\bf Obit\-Err}{\rm (p.\,\pageref{structObitErr})} error stack. \end{description}
\end{Desc}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!ObitTableCCUtilCrossList@{ObitTableCCUtilCrossList}}
\index{ObitTableCCUtilCrossList@{ObitTableCCUtilCrossList}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-FArray}$\ast$ Obit\-Table\-CCUtil\-Cross\-List ({\bf Obit\-Table\-CC} $\ast$ {\em in\-CC}, {\bf Obit\-Image\-Desc} $\ast$ {\em in\-Desc}, {\bf Obit\-Image\-Desc} $\ast$ {\em out\-Desc}, {\bf ofloat} {\em gparm}[3], {\bf olong} $\ast$ {\em ncomps}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitTableCCUtil_8h_a10}


Public: return list of CC from one image overlapping another. 

Returned array has component values on the first axis and one row per overlapping component. (X cell (0-rel), Y cell (0-rel), flux). CCs on cells within 0.5 pixels of out\-Desc are included. Components in the same cell are combined. If the components are Gaussians, their parameters are returned in gparm. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]Table of CCs \item[{\em in\-Desc}]Descriptor for image from which components derived \item[{\em out\-Desc}]Descriptor for output image \item[{\em grid}][out] filled in array, created, resized if necessary \item[{\em gparm}][out] Gaussian parameters (major, minor, PA (all deg)) if the components in in are Gaussians, else, -1. These are the values from the first CC. \item[{\em ncomp}][out] number of components in output list (generally less than size of FArray). \item[{\em err}]{\bf Obit\-Err}{\rm (p.\,\pageref{structObitErr})} error stack. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]pointer to list of components, may be NULL on failure, MUST be Unreffed. \end{Desc}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!ObitTableCCUtilFiltCC@{ObitTableCCUtilFiltCC}}
\index{ObitTableCCUtilFiltCC@{ObitTableCCUtilFiltCC}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gboolean Obit\-Table\-CCUtil\-Filt\-CC ({\bf Obit\-Table\-CC} $\ast$ {\em CCTab}, {\bf ofloat} {\em radius}, {\bf ofloat} {\em min\-Flux}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitTableCCUtil_8h_a16}


Filter weak, isolated components. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em CCTab}]CC table object to filter. \item[{\em radius}]Radius within which to consider components. (deg) \item[{\em min\-Flux}]Minimum acceptable summed flux \item[{\em err}]Error/message stack \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]True if any components zeroed \end{Desc}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!ObitTableCCUtilGrid@{ObitTableCCUtilGrid}}
\index{ObitTableCCUtilGrid@{ObitTableCCUtilGrid}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Obit\-IOCode Obit\-Table\-CCUtil\-Grid ({\bf Obit\-Table\-CC} $\ast$ {\em in}, {\bf olong} {\em Over\-Sample}, {\bf olong} $\ast$ {\em first}, {\bf olong} $\ast$ {\em last}, gboolean {\em no\-Neg}, {\bf ofloat} {\em factor}, {\bf ofloat} {\em min\-Flux}, {\bf ofloat} {\em max\-Flux}, {\bf Obit\-Image\-Desc} $\ast$ {\em desc}, {\bf Obit\-FArray} $\ast$$\ast$ {\em grid}, {\bf ofloat} {\em gparm}[3], {\bf olong} $\ast$ {\em ncomp}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitTableCCUtil_8h_a9}


Public: grid components onto a grid. 

The image from which the components is derived is described in desc. The output grid is padded by a factor Over\-Sample. If the components are Gaussians, their parameters are returned in gaus. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]Table to grid \item[{\em Over\-Sample}]Expansion factor for output image \item[{\em first}]First component (1-rel) to include, 0=$>$1, filled in if changed \item[{\em last}]Last component (1-rel) to include, 0=$>$all, filled in if changed \item[{\em no\-Neg}]Ignore first negative flux component and after \item[{\em factor}]factor to multiply timec fluxes \item[{\em min\-Flux}]Minimum abs. value flux density to include (before factor) \item[{\em max\-Flux}]Maximum abs. value flux density to include (before factor) \item[{\em desc}]Descriptor for image from which components derived \item[{\em grid}][out] filled in array, created, resized if necessary \item[{\em gparm}][out] Gaussian parameters (major, minor, PA all in deg) if the components in in are Gaussians, else, -1. \item[{\em ncomp}][out] number of components gridded. \item[{\em err}]{\bf Obit\-Err}{\rm (p.\,\pageref{structObitErr})} error stack. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]I/O Code OBIT\_\-IO\_\-OK = OK. \end{Desc}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!ObitTableCCUtilMerge@{ObitTableCCUtilMerge}}
\index{ObitTableCCUtilMerge@{ObitTableCCUtilMerge}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Obit\-IOCode Obit\-Table\-CCUtil\-Merge ({\bf Obit\-Table\-CC} $\ast$ {\em in}, {\bf Obit\-Table\-CC} $\ast$ {\em out}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitTableCCUtil_8h_a11}


Merge elements of an {\bf Obit\-Table\-CC}{\rm (p.\,\pageref{structObitTableCC})}. 

First sorts table, collapses, sorts to desc. flux \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]Table to sort \item[{\em out}]Table to write output to \item[{\em err}]{\bf Obit\-Err}{\rm (p.\,\pageref{structObitErr})} error stack. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]I/O Code OBIT\_\-IO\_\-OK = OK. \end{Desc}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!ObitTableCCUtilMergeSel@{ObitTableCCUtilMergeSel}}
\index{ObitTableCCUtilMergeSel@{ObitTableCCUtilMergeSel}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-FArray}$\ast$ Obit\-Table\-CCUtil\-Merge\-Sel ({\bf Obit\-Table\-CC} $\ast$ {\em in}, {\bf olong} {\em start\-Comp}, {\bf olong} {\em end\-Comp}, {\bf ofloat} $\ast$ {\em parms}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitTableCCUtil_8h_a12}


Merge elements of an {\bf Obit\-Table\-CC}{\rm (p.\,\pageref{structObitTableCC})} with selection. 

with selection by row number. First sorts table, collapses, sorts to desc. flux \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]Table to sort \item[{\em start\-Comp}]First component to select \item[{\em end\-Comp}]Last component to select, 0=$>$ all \item[{\em parms}][out] Non-point parameters (MUST all be the same ) dimen. at least 4. parms[3] = type 0 =$>$ point, no parameters 1 = Sky Gaussian, [0:3]=maj, min, PA 2 = Convolved Gaussian, [0:3]=maj axis, min axis, PA (all deg) 3 = Uniform Sphere [0] = radius (deg) \item[{\em err}]{\bf Obit\-Err}{\rm (p.\,\pageref{structObitErr})} error stack. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]FArray containing merged CC table contents; MUST be Unreffed. Will contain flux, X, Y, + any spectral terms \begin{itemize}
\item Flux \item Delta X \item Delta Y \end{itemize}
\end{Desc}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!ObitTableCCUtilMergeSel2Tab@{ObitTableCCUtilMergeSel2Tab}}
\index{ObitTableCCUtilMergeSel2Tab@{ObitTableCCUtilMergeSel2Tab}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-Table\-CC}$\ast$ Obit\-Table\-CCUtil\-Merge\-Sel2Tab ({\bf Obit\-Image} $\ast$ {\em image}, {\bf olong} {\em in\-CCver}, {\bf olong} $\ast$ {\em out\-CCver}, {\bf olong} {\em start\-Comp}, {\bf olong} {\em end\-Comp}, {\bf ofloat} {\em range}[2], {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitTableCCUtil_8h_a13}


Merge selected elements of an {\bf Obit\-Table\-CC}{\rm (p.\,\pageref{structObitTableCC})} to a new table. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em image}]input image with input CC table \item[{\em in\-CCver}]input CC table \item[{\em out\-CCver}]Desired output CC table on image, if 0 then new value used returned. \item[{\em start\-Comp}]First component to select \item[{\em end\-Comp}]Last component to select, 0=$>$ all \item[{\em range}]Max and min abs value of flux densities to accept \item[{\em err}]{\bf Obit\-Err}{\rm (p.\,\pageref{structObitErr})} error stack. \end{description}
\end{Desc}
\index{ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}!ObitTableCCUtilScale@{ObitTableCCUtilScale}}
\index{ObitTableCCUtilScale@{ObitTableCCUtilScale}!ObitTableCCUtil.h@{Obit\-Table\-CCUtil.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-Table\-CCUtil\-Scale ({\bf Obit\-Table\-CC} $\ast$ {\em in}, {\bf olong} {\em start\-Comp}, {\bf olong} {\em end\-Comp}, {\bf ofloat} {\em scale}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitTableCCUtil_8h_a14}


Scale the flux densities of entries in a CC table. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]Table to scale \item[{\em start\-Comp}]First component to select \item[{\em end\-Comp}]Last component to select, 0=$>$ all \item[{\em scale}]Factor to multiply times flux densities \item[{\em err}]{\bf Obit\-Err}{\rm (p.\,\pageref{structObitErr})} error stack. \end{description}
\end{Desc}
