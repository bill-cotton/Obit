\section{Obit\-DCon\-Clean.h File Reference}
\label{ObitDConClean_8h}\index{ObitDConClean.h@{ObitDConClean.h}}
{\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} virtual CLEAN base class. 

{\tt \#include \char`\"{}Obit.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Err.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-DCon.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-Image\-Mosaic.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-DCon\-Clean\-Window.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-DCon\-Clean\-Bm\-Hist.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-DCon\-Clean\-Px\-Hist.h\char`\"{}}\par
{\tt \#include \char`\"{}Obit\-DCon\-Clean\-Px\-List.h\char`\"{}}\par
\subsection*{Classes}
\begin{CompactItemize}
\item 
struct {\bf Obit\-DCon\-Clean}
\begin{CompactList}\small\item\em Obit\-DCon\-Clean Class structure. \item\end{CompactList}\item 
struct {\bf Obit\-DCon\-Clean\-Class\-Info}
\begin{CompactList}\small\item\em Class\-Info Structure. \item\end{CompactList}\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf Obit\-DCon\-Clean\-Unref}(in)\ Obit\-Unref (in)
\begin{CompactList}\small\item\em Macro to unreference (and possibly destroy) an {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} returns a Obit\-DCon\-Clean$\ast$. \item\end{CompactList}\item 
\#define {\bf Obit\-DCon\-Clean\-Ref}(in)\ Obit\-Ref (in)
\begin{CompactList}\small\item\em Macro to reference (update reference count) an {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})}. \item\end{CompactList}\item 
\#define {\bf Obit\-DCon\-Clean\-Is\-A}(in)\ Obit\-Is\-A (in, Obit\-DCon\-Clean\-Get\-Class())
\begin{CompactList}\small\item\em Macro to determine if an object is the member of this or a derived class. \item\end{CompactList}\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Def\-Window\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\item 
typedef gboolean($\ast$ {\bf Obit\-DCon\-Clean\-Pixel\-Stats\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)
\item 
typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Image\-Stats\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf olong} field, {\bf Obit\-Err} $\ast$err)
\item 
typedef gboolean($\ast$ {\bf Obit\-DCon\-Clean\-Select\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)
\item 
typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Sub\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\item 
typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Restore\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\item 
typedef void($\ast$ {\bf Obit\-DCon\-Clean\-XRestore\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\item 
typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Flatten\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\item 
typedef gboolean($\ast$ {\bf Obit\-DCon\-Clean\-Auto\-Window\-FP} )({\bf Obit\-DCon\-Clean} $\ast$in, {\bf olong} field, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void {\bf Obit\-DCon\-Clean\-Class\-Init} (void)
\begin{CompactList}\small\item\em Public: Class initializer. \item\end{CompactList}\item 
{\bf Obit\-DCon\-Clean} $\ast$ {\bf new\-Obit\-DCon\-Clean} (gchar $\ast$name)
\begin{CompactList}\small\item\em Public: Default Constructor. \item\end{CompactList}\item 
{\bf Obit\-DCon\-Clean} $\ast$ {\bf Obit\-DCon\-Clean\-Create} (gchar $\ast$name, {\bf Obit\-Image\-Mosaic} $\ast$mosaic, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Create/initialize {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} structures. \item\end{CompactList}\item 
gconstpointer {\bf Obit\-DCon\-Clean\-Get\-Class} (void)
\begin{CompactList}\small\item\em Public: Class\-Info pointer. \item\end{CompactList}\item 
{\bf Obit\-DCon\-Clean} $\ast$ {\bf Obit\-DCon\-Clean\-Copy} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-DCon\-Clean} $\ast$out, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Copy (deep) constructor. \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-Clone} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-DCon\-Clean} $\ast$out, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Copy structure. \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-Deconvolve} ({\bf Obit\-DCon} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Do deconvolution. \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-Get\-Parms} ({\bf Obit\-DCon} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Get parameters. \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-Def\-Window} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Set Default CLEAN windows. \item\end{CompactList}\item 
gboolean {\bf Obit\-DCon\-Clean\-Pixel\-Stats} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Prepare for minor cycle. \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-Image\-Stats} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf olong} field, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Determine image statistics. \item\end{CompactList}\item 
gboolean {\bf Obit\-DCon\-Clean\-Select} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public:Select components to be subtracted . \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-Sub} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Subtract components and generate new residual image(s). \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-Restore} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Restore subtracted components. \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-XRestore} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Restore subtracted components from other fields. \item\end{CompactList}\item 
void {\bf Obit\-DCon\-Clean\-Flatten} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Flatten multiple facets to one. \item\end{CompactList}\item 
gboolean {\bf Obit\-DCon\-Clean\-Auto\-Window} ({\bf Obit\-DCon\-Clean} $\ast$in, {\bf olong} field, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)
\begin{CompactList}\small\item\em Public: Automatically add window. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
{\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} virtual CLEAN base class. 

This class is derived from the {\bf Obit\-DCon}{\rm (p.\,\pageref{structObitDCon})} class.

Actual deconvolution classes are derived from this class auto\-Window feature will automatically set CLEAN windows inside a predefined outer window. Each cycle the residuals inside the outer window are searched to the maximum value; if the peak is outside the inner window and $>$ 3 sigma, a new round box of radius 3 pixels is added to the window. Cleaning in each cycle will stop when the peak residual drops to the level of the highest value outside the CLEAN window.\subsection{Creators and Destructors}\label{ObitDConClean_8h_ObitDConCleanaccess}
An {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} will usually be created using Obit\-DCon\-Clean\-Create which allows specifying a name for the object as well as other information.

A copy of a pointer to an {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} should always be made using the {\bf Obit\-DCon\-Clean\-Ref}{\rm (p.\,\pageref{ObitDConClean_8h_a1})} function which updates the reference count in the object. Then whenever freeing an {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} or changing a pointer, the function {\bf Obit\-DCon\-Clean\-Unref}{\rm (p.\,\pageref{ObitDConClean_8h_a0})} will decrement the reference count and destroy the object when the reference count hits 0. There is no explicit destructor. \subsection{CLEAN control information}\label{ObitDConClean_8h_ObitDConCleancontrol}
The control parameters for the CLEAN are read from the {\bf Obit\-Info\-List}{\rm (p.\,\pageref{structObitInfoList})} member when the Deconvolve function is called: The file etc. info should have been stored in the {\bf Obit\-Info\-List}{\rm (p.\,\pageref{structObitInfoList})}: \begin{itemize}
\item \char`\"{}Niter\char`\"{} OBIT\_\-long scalar = Maximum number of CLEAN iterations \item \char`\"{}max\-Pixel\char`\"{} OBIT\_\-long scalar = Maximum number of residuals [def 20000] \item \char`\"{}min\-Patch\char`\"{} OBIT\_\-long scalar = Minimum beam patch in pixels [def 100] \item \char`\"{}BMAJ\char`\"{} OBIT\_\-float scalar = Restoring beam major axis (deg) \item \char`\"{}BMIN\char`\"{} OBIT\_\-float scalar = Restoring beam minor axis (deg) \item \char`\"{}BPA\char`\"{} OBIT\_\-float scalar = Restoring beam position angle (deg) \item \char`\"{}Beam\char`\"{} OBIT\_\-float array[3]= (BMAJ, BMIN, BPA) alternate form (\char`\"{},\char`\"{}, deg) \item \char`\"{}Gain\char`\"{} OBIT\_\-float array = CLEAN loop gain per field If only one given it is used for all. \item \char`\"{}min\-Flux\char`\"{} OBIT\_\-float array = Minimum flux density (Jy) per field If only one given it is used for all. \item \char`\"{}Factor\char`\"{} OBIT\_\-float array = CLEAN depth factor per field If only one given it is used for all. \item \char`\"{}CCVer\char`\"{} OBIT\_\-long = CC table version number \item \char`\"{}Plane\char`\"{} OBIT\_\-long array = Plane being processed, 1-rel indices of axes 3-? def (1,1,1,1,1) \item \char`\"{}CLEANBox\char`\"{} OBIT\_\-long [4,?] = Array of Clean boxes for field 1 Any entries with first element=0 are ignored. \item \char`\"{}prt\-Lv\char`\"{} OBIT\_\-int message level [def 2] 0=none, 1=summary, 2=normal, higher numbers for diagnostics \item \char`\"{}auto\-Window\char`\"{} OBIT\_\-boolean scalar = True if auto\-Window feature wanted.\end{itemize}


\subsection{Define Documentation}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanIsA@{ObitDConCleanIsA}}
\index{ObitDConCleanIsA@{ObitDConCleanIsA}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Obit\-DCon\-Clean\-Is\-A(in)\ Obit\-Is\-A (in, Obit\-DCon\-Clean\-Get\-Class())}\label{ObitDConClean_8h_a2}


Macro to determine if an object is the member of this or a derived class. 

Returns TRUE if a member, else FALSE in = object to reference \index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanRef@{ObitDConCleanRef}}
\index{ObitDConCleanRef@{ObitDConCleanRef}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Obit\-DCon\-Clean\-Ref(in)\ Obit\-Ref (in)}\label{ObitDConClean_8h_a1}


Macro to reference (update reference count) an {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})}. 

returns a Obit\-DCon\-Clean$\ast$. in = object to reference \index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanUnref@{ObitDConCleanUnref}}
\index{ObitDConCleanUnref@{ObitDConCleanUnref}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Obit\-DCon\-Clean\-Unref(in)\ Obit\-Unref (in)}\label{ObitDConClean_8h_a0}


Macro to unreference (and possibly destroy) an {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} returns a Obit\-DCon\-Clean$\ast$. 

in = object to unreference 

\subsection{Typedef Documentation}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanAutoWindowFP@{ObitDConCleanAutoWindowFP}}
\index{ObitDConCleanAutoWindowFP@{ObitDConCleanAutoWindowFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef gboolean($\ast$ {\bf Obit\-DCon\-Clean\-Auto\-Window\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf olong} field, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a11}


\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanDefWindowFP@{ObitDConCleanDefWindowFP}}
\index{ObitDConCleanDefWindowFP@{ObitDConCleanDefWindowFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Def\-Window\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a3}


\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanFlattenFP@{ObitDConCleanFlattenFP}}
\index{ObitDConCleanFlattenFP@{ObitDConCleanFlattenFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Flatten\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a10}


\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanImageStatsFP@{ObitDConCleanImageStatsFP}}
\index{ObitDConCleanImageStatsFP@{ObitDConCleanImageStatsFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Image\-Stats\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf olong} field, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a5}


\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanPixelStatsFP@{ObitDConCleanPixelStatsFP}}
\index{ObitDConCleanPixelStatsFP@{ObitDConCleanPixelStatsFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef gboolean($\ast$ {\bf Obit\-DCon\-Clean\-Pixel\-Stats\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a4}


\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanRestoreFP@{ObitDConCleanRestoreFP}}
\index{ObitDConCleanRestoreFP@{ObitDConCleanRestoreFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Restore\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a8}


\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanSelectFP@{ObitDConCleanSelectFP}}
\index{ObitDConCleanSelectFP@{ObitDConCleanSelectFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef gboolean($\ast$ {\bf Obit\-DCon\-Clean\-Select\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-FArray} $\ast$pixarray, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a6}


\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanSubFP@{ObitDConCleanSubFP}}
\index{ObitDConCleanSubFP@{ObitDConCleanSubFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf Obit\-DCon\-Clean\-Sub\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a7}


\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanXRestoreFP@{ObitDConCleanXRestoreFP}}
\index{ObitDConCleanXRestoreFP@{ObitDConCleanXRestoreFP}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf Obit\-DCon\-Clean\-XRestore\-FP})({\bf Obit\-DCon\-Clean} $\ast$in, {\bf Obit\-Err} $\ast$err)}\label{ObitDConClean_8h_a9}




\subsection{Function Documentation}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!newObitDConClean@{newObitDConClean}}
\index{newObitDConClean@{newObitDConClean}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-DCon\-Clean}$\ast$ new\-Obit\-DCon\-Clean (gchar $\ast$ {\em name})}\label{ObitDConClean_8h_a13}


Public: Default Constructor. 

Virtual routine - should never be called Initializes class if needed on first call. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em name}]An optional name for the object. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the new object. \end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanAutoWindow@{ObitDConCleanAutoWindow}}
\index{ObitDConCleanAutoWindow@{ObitDConCleanAutoWindow}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gboolean Obit\-DCon\-Clean\-Auto\-Window ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf olong} {\em field}, {\bf Obit\-FArray} $\ast$ {\em pixarray}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a28}


Public: Automatically add window. 

Each cycle the residuals inside the outer window are searched to the maximum value; if the peak is outside the inner window and $>$ 5 sigma, a new round box is added to the window. Cleaning in each cycle will stop when the peak residual drops to the level of the highest value outside the CLEAN window. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to restore \item[{\em field}]Field number (1-rel) in Image\-Mosaic \item[{\em pixarray}]If non\-NULL, then use this array of pixels rather than in the Image\-Mosaic \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]TRUE is a new window added \end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanClassInit@{ObitDConCleanClassInit}}
\index{ObitDConCleanClassInit@{ObitDConCleanClassInit}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Class\-Init (void)}\label{ObitDConClean_8h_a12}


Public: Class initializer. 

\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanClone@{ObitDConCleanClone}}
\index{ObitDConCleanClone@{ObitDConCleanClone}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Clone ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-DCon\-Clean} $\ast$ {\em out}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a17}


Public: Copy structure. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to copy \item[{\em out}]An existing object pointer for output, must be defined. \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanCopy@{ObitDConCleanCopy}}
\index{ObitDConCleanCopy@{ObitDConCleanCopy}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-DCon\-Clean}$\ast$ Obit\-DCon\-Clean\-Copy ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-DCon\-Clean} $\ast$ {\em out}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a16}


Public: Copy (deep) constructor. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to copy \item[{\em out}]An existing object pointer for output or NULL if none exists. \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]pointer to the new object. \end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanCreate@{ObitDConCleanCreate}}
\index{ObitDConCleanCreate@{ObitDConCleanCreate}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Obit\-DCon\-Clean}$\ast$ Obit\-DCon\-Clean\-Create (gchar $\ast$ {\em name}, {\bf Obit\-Image\-Mosaic} $\ast$ {\em mosaic}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a14}


Public: Create/initialize {\bf Obit\-DCon\-Clean}{\rm (p.\,\pageref{structObitDConClean})} structures. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em name}]An optional name for the object. \item[{\em mosaic}]from which to create object \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the new object. \end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanDeconvolve@{ObitDConCleanDeconvolve}}
\index{ObitDConCleanDeconvolve@{ObitDConCleanDeconvolve}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Deconvolve ({\bf Obit\-DCon} $\ast$ {\em inn}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a18}


Public: Do deconvolution. 

CLEAN control parameters are in the {\bf Obit\-Info\-List}{\rm (p.\,\pageref{structObitInfoList})} member: \begin{itemize}
\item \char`\"{}Niter\char`\"{} OBIT\_\-long scalar = Maximum number of CLEAN iterations \item \char`\"{}max\-Pixel\char`\"{} OBIT\_\-long scalar = Maximum number of residuals [def 20000] \item \char`\"{}min\-Patch\char`\"{} OBIT\_\-long scalar = Minimum beam patch in pixels [def 50] \item \char`\"{}BMAJ\char`\"{} OBIT\_\-float scalar = Restoring beam major axis (deg) \item \char`\"{}BMIN\char`\"{} OBIT\_\-float scalar = Restoring beam minor axis (deg) \item \char`\"{}BPA\char`\"{} OBIT\_\-float scalar = Restoring beam position angle (deg) \item \char`\"{}Beam\char`\"{} = OBIT\_\-float [3] = (BMAJ, BMIN, BPA) alternate form (\char`\"{},\char`\"{}, deg) \item \char`\"{}CCVer\char`\"{} OBIT\_\-long array = CLEAN table version for all fields \item \char`\"{}Gain\char`\"{} OBIT\_\-float array = CLEAN loop gain per field \item \char`\"{}min\-Flux\char`\"{} OBIT\_\-float array = Minimum flux density (Jy) per field \item \char`\"{}Factor\char`\"{} OBIT\_\-float array = CLEAN depth factor per field \item \char`\"{}Plane\char`\"{} OBIT\_\-long array = Plane being processed, 1-rel indices of axes 3-? \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to deconvolve \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\end{itemize}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanDefWindow@{ObitDConCleanDefWindow}}
\index{ObitDConCleanDefWindow@{ObitDConCleanDefWindow}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Def\-Window ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a20}


Public: Set Default CLEAN windows. 

If mosaic member Radius$>$0 then make round boxes on Fly's eye field with this radius, else use rectangular box including all but outer 5 pixels On outlier fields, use rectangular box of width Outlier\-Size. If CLEANBox defined in in-$>$info then its contents are used for field 1. Sets outer windows the same as inner windows except for field 1 when CLEANBox set. If auto\-Window, no default inner windows are set. Assumes all images in mosaic have descriptors defined. Any previously existing Windows will be lost. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The CLEAN object, info may have CLEAN Boxes: \begin{itemize}
\item \char`\"{}CLEANBox\char`\"{} OBIT\_\-long [4,?] = Array of Clean boxes for field 1 Any entries with first element=0 are ignored.\end{itemize}
\item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanFlatten@{ObitDConCleanFlatten}}
\index{ObitDConCleanFlatten@{ObitDConCleanFlatten}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Flatten ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a27}


Public: Flatten multiple facets to one. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to deconvolve \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanGetClass@{ObitDConCleanGetClass}}
\index{ObitDConCleanGetClass@{ObitDConCleanGetClass}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gconstpointer Obit\-DCon\-Clean\-Get\-Class (void)}\label{ObitDConClean_8h_a15}


Public: Class\-Info pointer. 

\begin{Desc}
\item[Returns:]pointer to the class structure. \end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanGetParms@{ObitDConCleanGetParms}}
\index{ObitDConCleanGetParms@{ObitDConCleanGetParms}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Get\-Parms ({\bf Obit\-DCon} $\ast$ {\em inn}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a19}


Public: Get parameters. 

\begin{itemize}
\item \char`\"{}Niter\char`\"{} OBIT\_\-long scalar = Maximum number of CLEAN iterations \item \char`\"{}max\-Pixel\char`\"{} OBIT\_\-long scalar = Maximum number of residuals [def 20000] \item \char`\"{}min\-Patch\char`\"{} OBIT\_\-long scalar = Minimum beam patch in pixels [def 100] \item \char`\"{}BMAJ\char`\"{} OBIT\_\-float scalar = Restoring beam major axis (deg) \item \char`\"{}BMIN\char`\"{} OBIT\_\-float scalar = Restoring beam minor axis (deg) \item \char`\"{}BPA\char`\"{} OBIT\_\-float scalar = Restoring beam position angle (deg) \item \char`\"{}Beam\char`\"{} = OBIT\_\-float [3] = (BMAJ, BMIN, BPA) alternate form \item \char`\"{}CCVer\char`\"{} OBIT\_\-long array = CLEAN table version for all fields \item \char`\"{}Gain\char`\"{} OBIT\_\-float array = CLEAN loop gain per field If only one given it is used for all. \item \char`\"{}min\-Flux\char`\"{} OBIT\_\-float array = Minimum flux density (Jy) per field If only one given it is used for all. \item \char`\"{}Factor\char`\"{} OBIT\_\-float array = CLEAN depth factor per field \item \char`\"{}auto\-Window\char`\"{} OBIT\_\-boolean scalar = True if auto\-Window feature wanted. \item \char`\"{}ccf\-Lim\char`\"{} OBIT\_\-float = Min. fraction of residual peak to CLEAN to clipped to [0.0,0.9] \item \char`\"{}SDIGain\char`\"{} OBIT\_\-float = Fraction of pixels in the upper half of the pixel histogram to trigger SDI mode. From Parent classes: \item \char`\"{}Plane\char`\"{} OBIT\_\-long array = Plane being processed, 1-rel indices of axes 3-? def (1,1,1,1,1) \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The CLEAN object as base class \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\end{itemize}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanImageStats@{ObitDConCleanImageStats}}
\index{ObitDConCleanImageStats@{ObitDConCleanImageStats}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Image\-Stats ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf olong} {\em field}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a22}


Public: Determine image statistics. 

For this version the following are calculated: \begin{itemize}
\item max\-Abs\-Res Maximum absolute windowed residual value \item avg\-Res Average windowed residual value\end{itemize}
\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to deconvolve \item[{\em field}]Which field? (1-rel) $<$=0 -$>$ all; \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanPixelStats@{ObitDConCleanPixelStats}}
\index{ObitDConCleanPixelStats@{ObitDConCleanPixelStats}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gboolean Obit\-DCon\-Clean\-Pixel\-Stats ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-FArray} $\ast$ {\em pixarray}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a21}


Public: Prepare for minor cycle. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to deconvolve \item[{\em pixarray}]If Non\-NULL use instead of the flux densities from the image file. \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]TRUE is a new window added \end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanRestore@{ObitDConCleanRestore}}
\index{ObitDConCleanRestore@{ObitDConCleanRestore}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Restore ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a25}


Public: Restore subtracted components. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to restore \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanSelect@{ObitDConCleanSelect}}
\index{ObitDConCleanSelect@{ObitDConCleanSelect}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}gboolean Obit\-DCon\-Clean\-Select ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-FArray} $\ast$ {\em pixarray}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a23}


Public:Select components to be subtracted . 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to deconvolve \item[{\em pixarray}]If Non\-NULL use instead of the flux densities from the image file. \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]TRUE if deconvolution is complete \end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanSub@{ObitDConCleanSub}}
\index{ObitDConCleanSub@{ObitDConCleanSub}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-Sub ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a24}


Public: Subtract components and generate new residual image(s). 

Virtual routine, only defined in derived classes \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to deconvolve \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
\index{ObitDConClean.h@{Obit\-DCon\-Clean.h}!ObitDConCleanXRestore@{ObitDConCleanXRestore}}
\index{ObitDConCleanXRestore@{ObitDConCleanXRestore}!ObitDConClean.h@{Obit\-DCon\-Clean.h}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Obit\-DCon\-Clean\-XRestore ({\bf Obit\-DCon\-Clean} $\ast$ {\em in}, {\bf Obit\-Err} $\ast$ {\em err})}\label{ObitDConClean_8h_a26}


Public: Restore subtracted components from other fields. 

Does brute force convolution. Adopted from the AIPSish QOOP:QCLEAN.FOR(CLOVER) Presumes in-$>$mosaic and image descriptors filled in. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in}]The object to restore \item[{\em err}]{\bf Obit}{\rm (p.\,\pageref{structObit})} error stack object. \end{description}
\end{Desc}
